!function(){"use strict";var t={cardTemplateSelector:"#destinations__item-template",cardSelector:".destinations__item",cardNameSelector:".destination__name",cardImageSelector:".destination__photo",likeButtonSelector:".button_action_like .button__icon",deleteButtonSelector:".button__icon_action_delete",popUpTemplateSelector:"#destination-popup-template",popUpSelector:".destination-popup",popUpPhotoSelector:".destination-popup__photo",popUpDescSelector:".destination-popup__description",notLikedButtonClass:"button__icon_action_like",isLikedButtonClass:"button__icon_action_liked"},e={formSelector:".form",inputSelector:".form__input",submitButtonSelector:".button_location_form",inactiveButtonClass:"button_status_inactive",inputErrorClass:"form__input_status_error",errorClass:"form__input-error"},n={formTemplateSelector:"#form-template",formSelector:".form",formTitleSelector:".form__title",formButtonSelector:".button",formInputTemplateSelector:"#form__input-template",formInputSetSelector:".form__input-set",formInputSelector:".form__input",formInputsAreaSelector:".form__inputs"},o={inputTemplateSelector:"#form__input-template",inputSetSelector:".form__input-set",inputSelector:".form__input"},i={popupTemplateSelector:"#popup-template",popupSelector:".popup",popupContentSelector:".popup__content",popupBackdropSelector:".popup__backdrop",popupCloseButtonSelector:".button__icon_action_close",popupModifierFormClass:"popup__content_type_form",popupModifierImageClass:"popup__content_type_image",popupClosedStateClass:"popup_state_closed",popupOpenedStateClass:"popup_state_opened",popupClosingTimeInMs:"300",formClass:"form"},r=".profile__avatar",u=".profile__name",a=".profile__occupation",l=".popup",s="append",c="https://around.nomoreparties.co/v1/web_es_10",p="/users/me",f="/cards",h="PATCH",_=document.querySelector(".page"),m={type:"url",name:"avatarUrl",placeholder:"Enlace a la imagen",isRequired:!0,maxlength:500,minlength:null},y={type:"text",name:"name",placeholder:"Nombre",isRequired:!0,maxlength:40,minlength:2},d={type:"text",name:"aboutMe",placeholder:"Acerca de mí",isRequired:!0,maxlength:200,minlength:2},v={type:"text",name:"title",placeholder:"Título",isRequired:!0,maxlength:30,minlength:2},b={type:"url",name:"imageUrl",placeholder:"Enlace a la imagen",isRequired:!0,maxlength:500,minlength:null};function g(t){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g(t)}function S(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,i=function(t,e){if("object"!==g(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==g(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===g(i)?i:String(i)),o)}var i}var k=function(){function e(n,o,i,r,u){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this._id=n,this._name=o,this._imageUrl=i,this._config=a,this._card=null,this._popUpCard=null,this._handleCardClick=r,this._handleCardDelete=u,this._handleLikeButtonClick=this._handleLikeButtonClick.bind(this)}var n,o;return n=e,(o=[{key:"_setCardId",value:function(t){console.log(this._card),this._card.setAttribute("id","id_".concat(t))}},{key:"_setCardName",value:function(t){this._card.querySelector(this._config.cardNameSelector).textContent=t}},{key:"_setCardImage",value:function(t,e){var n=this._card.querySelector(this._config.cardImageSelector);n.setAttribute("alt",t),n.setAttribute("src",e)}},{key:"_setPopUpDescription",value:function(t){this._popUpCard.querySelector(this._config.popUpDescSelector).textContent=t}},{key:"_getTemplate",value:function(){return _.querySelector(this._config.cardTemplateSelector).content.cloneNode(!0)}},{key:"_getImage",value:function(){return this._card.querySelector(this._config.cardImageSelector)}},{key:"_getLikeButton",value:function(){return this._card.querySelector(this._config.likeButtonSelector)}},{key:"_getDeleteButton",value:function(){return this._card.querySelector(this._config.deleteButtonSelector)}},{key:"_getPopUpTemplate",value:function(){return _.querySelector(this._config.popUpTemplateSelector).content.cloneNode(!0)}},{key:"_getPopUpImage",value:function(){return this._popUpCard.querySelector(this._config.popUpPhotoSelector)}},{key:"_setCardListeners",value:function(){this._getImage().addEventListener("click",this._handleCardClick),this._getLikeButton().addEventListener("click",this._handleLikeButtonClick),this._getDeleteButton().addEventListener("click",this._handleCardDelete)}},{key:"_removeCardListeners",value:function(){this._getImage().removeEventListener("click",this._handleCardClick),this._getLikeButton().removeEventListener("click",this._handleLikeButtonClick),this._getDeleteButton().removeEventListener("click",this._handleCardDelete)}},{key:"_toggleLikeButton",value:function(){this._isLiked()?this._like():this._dislike()}},{key:"_like",value:function(){this._getLikeButton().classList.remove(this._config.notLikedButtonClass),this._getLikeButton().classList.add(this._config.isLikedButtonClass)}},{key:"_dislike",value:function(){this._getLikeButton().classList.remove(this._config.isLikedButtonClass),this._getLikeButton().classList.add(this._config.notLikedButtonClass)}},{key:"_isLiked",value:function(){return this._getLikeButton().classList.contains(this._config.notLikedButtonClass)}},{key:"_handleLikeButtonClick",value:function(){this._toggleLikeButton()}},{key:"buildCard",value:function(){return this._card=this._getTemplate().querySelector(this._config.cardSelector),this._setCardId(this._id),this._setCardName(this._name),this._setCardImage(this._name,this._imageUrl),this._setCardListeners(),this._card}}])&&S(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),e}(),C=k;function w(t){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w(t)}function E(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,i=function(t,e){if("object"!==w(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==w(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===w(i)?i:String(i)),o)}var i}var P=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._config=n,this._popupSelector=e,this._popup=null,this._isClosing=null,this._handleEscClose=this._handleEscClose.bind(this),this._handleClickClose=this._handleClickClose.bind(this)}var e,n;return e=t,(n=[{key:"_getTemplate",value:function(){return _.querySelector(this._config.popupTemplateSelector).cloneNode(!0).content}},{key:"_getModalBackdrop",value:function(){return this._popup.querySelector(this._config.popupBackdropSelector)}},{key:"_getCloseButton",value:function(){return this._popup.querySelector(this._config.popupCloseButtonSelector)}},{key:"_togglePopup",value:function(){this._popup.classList.contains(this._config.popupOpenedStateClass)?(this._popup.classList.add(this._config.popupClosedStateClass),this._popup.classList.remove(this._config.popupOpenedStateClass)):(this._popup.classList.add(this._config.popupOpenedStateClass),this._popup.classList.remove(this._config.popupClosedStateClass))}},{key:"_playClosingAnimation",value:function(){var t=this;this._isClosing=!0,setTimeout((function(){t._popup.remove(),t._isClosing=!1}),this._config.popupClosingTimeInMs)}},{key:"_closeOnClick",value:function(t){t.addEventListener("click",this._handleClickClose)}},{key:"_closeOnEscape",value:function(t){t.addEventListener("keydown",this._handleEscClose)}},{key:"_handleClickClose",value:function(t){"click"===t.type.toLowerCase()&&this.close()}},{key:"_handleEscClose",value:function(t){var e;"escape"===(null===(e=t.key)||void 0===e?void 0:e.toLowerCase())&&this.close()}},{key:"_isOpened",value:function(){return _.querySelector(this.popupSelector)}},{key:"getContentSelector",value:function(){return this._config.popupContentSelector}},{key:"_getContentContainer",value:function(){return this._popup.querySelector(this._config.popupContentSelector)}},{key:"_modifyContentContainer",value:function(t){this._getContentContainer().classList.add(t)}},{key:"open",value:function(){this._isOpened()||(this._togglePopup(),_.prepend(this._popup)),this._popup.focus()}},{key:"close",value:function(){this._isClosing||(this._togglePopup(),this._playClosingAnimation())}},{key:"setEventListeners",value:function(){this._closeOnClick(this._getModalBackdrop()),this._closeOnClick(this._getCloseButton()),this._closeOnEscape(this._popup)}},{key:"buildPopup",value:function(){this._popup=this._getTemplate().querySelector(this._popupSelector)}}])&&E(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),O=P;function L(t){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L(t)}function T(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,i=function(t,e){if("object"!==L(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==L(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===L(i)?i:String(i)),o)}var i}function j(){return j="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=B(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},j.apply(this,arguments)}function q(t,e){return q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},q(t,e)}function I(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B(t){return B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},B(t)}var U=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&q(t,e)}(a,t);var e,n,o,r,u=(o=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=B(o);if(r){var n=B(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===L(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return I(t)}(this,t)});function a(t,e,n){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(o=u.call(this,t,i))._submitEventHandler=e,o._submitEventHandler=o._submitEventHandler.bind(I(o)),o._postSubmitEventHandler=o._postSubmitEventHandler.bind(I(o)),o._form=n,o}return e=a,(n=[{key:"_getInputValues",value:function(){return this._form.inputValues}},{key:"_modifyContentContainer",value:function(){j(B(a.prototype),"_modifyContentContainer",this).call(this,i.popupModifierFormClass)}},{key:"setEventListeners",value:function(){j(B(a.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",this._submitEventHandler),this._form.addEventListener("submit",this._postSubmitEventHandler)}},{key:"_postSubmitEventHandler",value:function(){this._form.removeEventListener("submit",this._submitEventHandler),this._form.removeEventListener("submit",this._postSubmitEventHandler),this.close()}},{key:"_setForm",value:function(){this._modifyContentContainer(),this._getContentContainer().append(this._form)}},{key:"close",value:function(){j(B(a.prototype),"close",this).call(this),this._form.reset()}},{key:"open",value:function(){j(B(a.prototype),"open",this).call(this),this._setForm()}}])&&T(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(O);function R(t){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R(t)}function A(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,i=function(t,e){if("object"!==R(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==R(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===R(i)?i:String(i)),o)}var i}function x(){return x="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=N(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},x.apply(this,arguments)}function V(t,e){return V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},V(t,e)}function H(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N(t){return N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},N(t)}var D=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V(t,e)}(a,t);var e,n,o,r,u=(o=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=N(o);if(r){var n=N(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===R(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return H(t)}(this,t)});function a(t,e){var n,o=e.imageUrl,r=e.description;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(n=u.call(this,t,i))._imageUrl=o,n._description=r,n._image=null,n._caption=null,n.open=n.open.bind(H(n)),n}return e=a,(n=[{key:"_modifyContentContainer",value:function(){x(N(a.prototype),"_modifyContentContainer",this).call(this,i.popupModifierImageClass)}},{key:"_getImageTemplate",value:function(){return _.querySelector("#popupImage-template").cloneNode(!0).content}},{key:"_setImage",value:function(t,e){this._image=this._getImageComponent().querySelector(".popup__photo"),this._image.setAttribute("src",t),this._image.setAttribute("alt",e)}},{key:"_setCaption",value:function(t){this._caption=this._getImageComponent().querySelector(".popup__description"),this._caption.textContent=t}},{key:"_setImageComponent",value:function(){this._imageComponent||(this._imageComponent=this._getImageTemplate(),this._setImage(this._imageUrl,this._description),this._setCaption(this._description),this._modifyContentContainer(),this._getContentContainer().append(this._image),this._getContentContainer().append(this._caption))}},{key:"_getImageComponent",value:function(){return this._imageComponent}},{key:"open",value:function(){x(N(a.prototype),"open",this).call(this),this._setImageComponent()}},{key:"close",value:function(){x(N(a.prototype),"close",this).call(this)}}])&&A(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(O);function F(t){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F(t)}function M(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,i=function(t,e){if("object"!==F(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==F(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===F(i)?i:String(i)),o)}var i}var J=function(){function t(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._form=n,this._config=o,this._inputValidationHandler=this._inputValidationHandler.bind(this),this._formPreSubmitValidationHandler=this._formPreSubmitValidationHandler.bind(this)}var n,o;return n=t,(o=[{key:"_formIsValid",value:function(){return Array.from(this._form.querySelectorAll(this._config.inputSelector)).every((function(t){return t.validity.valid}))}},{key:"_toggleButtonStatus",value:function(){var t=this._form.querySelector(this._config.submitButtonSelector);this._formIsValid()?t.classList.remove(this._config.inactiveButtonClass):t.classList.add(this._config.inactiveButtonClass)}},{key:"_inputValidationHandler",value:function(t){t.target.nextElementSibling.textContent=t.target.validationMessage,this._toggleButtonStatus()}},{key:"_formPreSubmitValidationHandler",value:function(t){var e,n="click"===t.type.toLowerCase()||"enter"===(null===(e=t.key)||void 0===e?void 0:e.toLowerCase());!this._formIsValid()&&n&&t.preventDefault()}},{key:"_getSubmitButton",value:function(){return this._form.querySelector(this._config.submitButtonSelector)}},{key:"_setFormValidationEventListeners",value:function(){this._form.addEventListener("input",this._inputValidationHandler),this._form.addEventListener("keydown",this._formPreSubmitValidationHandler),this._getSubmitButton().addEventListener("click",this._formPreSubmitValidationHandler)}},{key:"removeFormValidationEventListeners",value:function(){this._form.removeEventListener("input",this._inputValidationHandler),this._form.removeEventListener("keydown",this._formPreSubmitValidationHandler),this._getSubmitButton().removeEventListener("click",this._formPreSubmitValidationHandler)}},{key:"enableValidation",value:function(){this._toggleButtonStatus(),this._setFormValidationEventListeners(this._form,this._config)}}])&&M(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),t}(),G=J,z=function(t){new G(t).enableValidation()},K=function(t,e){var n=new U(l,e,t);return n.buildPopup(),n.setEventListeners(),n},Q=function(t,e){_.querySelector(t).addEventListener("click",e)};function W(t){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W(t)}function X(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,i=function(t,e){if("object"!==W(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==W(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===W(i)?i:String(i)),o)}var i}var Y=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._baseUrl=e.baseUrl,this._headers=e.headers||null,this._body=e.body||null,this.get=this.get.bind(this),this.post=this.post.bind(this),this.patch=this.patch.bind(this),this.delete=this.delete.bind(this),this._buildRequestOptions=this._buildRequestOptions.bind(this),this._getRequestOptions=this._getRequestOptions.bind(this),this._requestOptions={}}var e,n;return e=t,(n=[{key:"_setMethod",value:function(t){this._method=t}},{key:"_buildRequestOptions",value:function(){this._headers&&(this._requestOptions.headers=this._headers),this._body&&(this._requestOptions.body=JSON.stringify(this._body)),this._method&&(this._requestOptions.method=this._method)}},{key:"_getRequestOptions",value:function(){return this._requestOptions}},{key:"_doRequest",value:function(){return this._buildRequestOptions(),fetch(this._baseUrl,this._getRequestOptions()).then((function(t){return t.ok?t.json():Promise.reject("Error: ".concat(t.status))}))}},{key:"get",value:function(){return this._setMethod("GET"),this._doRequest()}},{key:"post",value:function(){return this._setMethod("POST"),this._doRequest()}},{key:"patch",value:function(){return this._setMethod("PATCH"),this._doRequest()}},{key:"delete",value:function(){return this._setMethod("DELETE"),this._doRequest()}}])&&X(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Z=function(t,e,n,o){var i=new Y({baseUrl:"".concat(t).concat(e),headers:{authorization:"".concat("f0b3f439-acc1-4da4-ab9f-34df2f51e340"),"Content-Type":"application/json"},body:o});return{GET:i.get,POST:i.post,PATCH:i.patch,DELETE:i.delete}[n]()};function $(t){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$(t)}function tt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,i=function(t,e){if("object"!==$(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==$(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===$(i)?i:String(i)),o)}var i}var et=function(){function t(e,n){var o=e.items,i=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._items=o,this._renderer=i,this._containerSelector=n}var e,n;return e=t,n=[{key:"renderer",value:function(){var t=this;this._items.forEach((function(e){t._renderer(e)}))}},{key:"addItem",value:function(t){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:s)===s?document.querySelector(this._containerSelector).append(t):document.querySelector(this._containerSelector).prepend(t)}}],n&&tt(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),nt=et;function ot(t){return ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ot(t)}function it(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,i=function(t,e){if("object"!==ot(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==ot(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===ot(i)?i:String(i)),o)}var i}var rt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._avatarSelector=e}var e,n;return e=t,(n=[{key:"_getAvatarContainer",value:function(){return document.querySelector(this._avatarSelector)}},{key:"getAvatarImageUrl",value:function(){return this._getAvatarContainer().getAttribute("src")}},{key:"setAvatarImageUrl",value:function(t){this._getAvatarContainer().setAttribute("src",t)}}])&&it(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function ut(t){return ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ut(t)}function at(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,i=function(t,e){if("object"!==ut(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==ut(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===ut(i)?i:String(i)),o)}var i}var lt=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._userNameSelector=e,this._userJobSelector=n}var e,n;return e=t,(n=[{key:"_getUserNameContainer",value:function(){return document.querySelector(this._userNameSelector)}},{key:"_getUserName",value:function(){return this._getUserNameContainer().textContent}},{key:"_getUserJobContainer",value:function(){return document.querySelector(this._userJobSelector)}},{key:"_getUserJob",value:function(){return this._getUserJobContainer().textContent}},{key:"getUserInfo",value:function(){return{userName:this._getUserName(),userJob:this._getUserJob()}}},{key:"setUserInfo",value:function(t,e){this._getUserNameContainer().textContent=t,this._getUserJobContainer().textContent=e}}])&&at(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),st=function(t){new rt(r).setAvatarImageUrl(t)},ct=function(t,e){new lt(u,a).setUserInfo(t,e)},pt=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"prepend",o=new nt({items:t,renderer:function(t){var i,r,u,a,s,c,p,f=(i=t.link,r=t.name,(u=new D(l,{imageUrl:i,description:r})).buildPopup(),u.setEventListeners(),u),h=(a=t._id,s=t.name,c=t.link,p=f.open,new C(a,s,c,p,e).buildCard());o.addItem(h,n)}},".destinations__list");o.renderer()};function ft(t){return ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ft(t)}function ht(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,i=function(t,e){if("object"!==ft(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==ft(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===ft(i)?i:String(i)),o)}var i}var _t=function(){function t(e,o){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._config=r,this._formTitle=e,this._buttonLabel=o,this._inputSetList=i,this._form=null}var e,o;return e=t,(o=[{key:"_getTemplate",value:function(){return _.querySelector(this._config.formTemplateSelector).cloneNode(!0).content}},{key:"_getInputsArea",value:function(){return this._form.querySelector(this._config.formInputsAreaSelector)}},{key:"_setTitle",value:function(t){this._form.querySelector(this._config.formTitleSelector).textContent=t}},{key:"_setButtonLabel",value:function(t){this._form.querySelector(this._config.formButtonSelector).textContent=t}},{key:"_setInputs",value:function(t){var e=this;t.forEach((function(t){e._getInputsArea().append(t)}))}},{key:"buildForm",value:function(){return this._form=this._getTemplate().querySelector(this._config.formSelector),this._setTitle(this._formTitle),this._setButtonLabel(this._buttonLabel),this._inputSetList&&this._setInputs(this._inputSetList),this._form}}])&&ht(e.prototype,o),Object.defineProperty(e,"prototype",{writable:!1}),t}(),mt=_t;function yt(t){return yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yt(t)}function dt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,i=function(t,e){if("object"!==yt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==yt(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===yt(i)?i:String(i)),o)}var i}var vt=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._type=e.type,this._name=e.name,this._placeholder=e.placeholder,this._isRequired=e.isRequired,this._maxlength=e.maxlength,this._minlength=e.minlength,this._config=n,this._inputSet=null,this._input=null}var e,n;return e=t,(n=[{key:"_getTemplate",value:function(){return _.querySelector(this._config.inputTemplateSelector).cloneNode(!0).content}},{key:"_mapInputAttributes",value:function(){this._input.setAttribute("type",this._type),this._input.setAttribute("name",this._name),this._input.setAttribute("placeholder",this._placeholder),this._input.setAttribute("maxlength",this._maxlength),this._input.setAttribute("minlength",this._minlength),this._input.setAttribute("required",this._isRequired)}},{key:"setInputValue",value:function(t){this._input.value=t}},{key:"inputFocus",value:function(){this._input.focus(),this._input.select()}},{key:"buildFormInputSet",value:function(){return this._inputSet=this._getTemplate().querySelector(this._config.inputSetSelector),this._input=this._inputSet.querySelector(this._config.inputSelector),this._mapInputAttributes(),this._inputSet}}])&&dt(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),bt=vt,gt=function(t){var e;t.preventDefault(),(e=t.target.avatarUrl.value,Z(c,"/users/me/avatar",h,{avatar:e}).then((function(t){return t})).catch((function(t){console.log(t)}))).then((function(t){st(t.avatar)}))},St=function(t){t.preventDefault();var e,n,o=t.target;(e=o.name.value,n=o.aboutMe.value,Z(c,p,h,{name:e,about:n}).then((function(t){return t})).catch((function(t){console.log(t)}))).then((function(t){ct(t.name,t.about)}))},kt=function(t){t.preventDefault();var e,n,o,i=t.target;(e={link:i.imageUrl.value,name:i.title.value},n=e.name,o=e.link,Z(c,f,"POST",{name:n,link:o}).then((function(t){return t})).catch((function(t){console.log(t)}))).then((function(t){pt([t],Ct)}))},Ct=function(t){var e=t.target.closest(".destinations__item"),n=e.id.replace(/^id_/,""),o=new mt("¿Estás seguro?","Sí").buildForm(),i=K(o,(function(t){t.preventDefault(),function(t){return Z(c,"".concat(f,"/").concat(t),"DELETE")}(n).then((function(){var t;(t=e)&&t.remove()}))}));i.open()};Z(c,p,"GET").then((function(t){ct(t.name,t.about),st(t.avatar)})).catch((function(t){console.log(t)})),Z(c,f,"GET").then((function(t){pt(t,Ct,s)})).catch((function(t){console.log(t)})),Q(".button_action_edit.button_location_profile-info",(function(){var t=function(){var t=[],e=new bt(y),n=new bt(d);t.push(e.buildFormInputSet(),n.buildFormInputSet());var o=new lt(u,a);return e.setInputValue(o.getUserInfo().userName),n.setInputValue(o.getUserInfo().userJob),new mt("Editar Perfil","Guardar",t).buildForm()}();z(t),K(t,St).open()})),Q(".button_action_add",(function(){var t,e,n,o=(t=[],e=new bt(v),n=new bt(b),t.push(e.buildFormInputSet(),n.buildFormInputSet()),new mt("Nuevo Lugar","Guardar",t).buildForm());z(o),K(o,kt).open()})),Q(".button_action_edit.button_location_profile-avatar",(function(){var t=function(){var t=[],e=new bt(m);t.push(e.buildFormInputSet());var n=new rt(r);return e.setInputValue(n.getAvatarImageUrl()),new mt("Cambiar foto de perfil","Guardar",t).buildForm()}();z(t),K(t,gt).open()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0xsSixFQUFvQmtKLEVBQWdCOUIsSUFDNUNqSixNQUNaLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcm91bmRfdGhlX3VzLy4vc3JjL3NjcmlwdHMvaGVscGVycy9jb25maWcuanMiLCJ3ZWJwYWNrOi8vYXJvdW5kX3RoZV91cy8uL3NyYy9zY3JpcHRzL2hlbHBlcnMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL2Fyb3VuZF90aGVfdXMvLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vYXJvdW5kX3RoZV91cy8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vYXJvdW5kX3RoZV91cy8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9hcm91bmRfdGhlX3VzLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9hcm91bmRfdGhlX3VzLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL2Fyb3VuZF90aGVfdXMvLi9zcmMvc2NyaXB0cy9oZWxwZXJzL3V0aWxzLmpzIiwid2VicGFjazovL2Fyb3VuZF90aGVfdXMvLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9hcm91bmRfdGhlX3VzLy4vc3JjL3NjcmlwdHMvaGVscGVycy9yZXF1ZXN0cy5qcyIsIndlYnBhY2s6Ly9hcm91bmRfdGhlX3VzLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL2Fyb3VuZF90aGVfdXMvLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL0F2YXRhci5qcyIsIndlYnBhY2s6Ly9hcm91bmRfdGhlX3VzLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9hcm91bmRfdGhlX3VzLy4vc3JjL3NjcmlwdHMvaGVscGVycy9yZW5kZXJzLmpzIiwid2VicGFjazovL2Fyb3VuZF90aGVfdXMvLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL0Zvcm0uanMiLCJ3ZWJwYWNrOi8vYXJvdW5kX3RoZV91cy8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvSW5wdXRTZXQuanMiLCJ3ZWJwYWNrOi8vYXJvdW5kX3RoZV91cy8uL3NyYy9zY3JpcHRzL2hlbHBlcnMvaGFuZGxlcnMuanMiLCJ3ZWJwYWNrOi8vYXJvdW5kX3RoZV91cy8uL3NyYy9zY3JpcHRzL2hlbHBlcnMvZm9ybXMuanMiLCJ3ZWJwYWNrOi8vYXJvdW5kX3RoZV91cy8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBjYXJkQ29uZmlnID0ge1xyXG4gIGNhcmRUZW1wbGF0ZVNlbGVjdG9yOiBcIiNkZXN0aW5hdGlvbnNfX2l0ZW0tdGVtcGxhdGVcIixcclxuICBjYXJkU2VsZWN0b3I6IFwiLmRlc3RpbmF0aW9uc19faXRlbVwiLFxyXG4gIGNhcmROYW1lU2VsZWN0b3I6IFwiLmRlc3RpbmF0aW9uX19uYW1lXCIsXHJcbiAgY2FyZEltYWdlU2VsZWN0b3I6IFwiLmRlc3RpbmF0aW9uX19waG90b1wiLFxyXG4gIGxpa2VCdXR0b25TZWxlY3RvcjogXCIuYnV0dG9uX2FjdGlvbl9saWtlIC5idXR0b25fX2ljb25cIixcclxuICBkZWxldGVCdXR0b25TZWxlY3RvcjogXCIuYnV0dG9uX19pY29uX2FjdGlvbl9kZWxldGVcIixcclxuICBwb3BVcFRlbXBsYXRlU2VsZWN0b3I6IFwiI2Rlc3RpbmF0aW9uLXBvcHVwLXRlbXBsYXRlXCIsXHJcbiAgcG9wVXBTZWxlY3RvcjogXCIuZGVzdGluYXRpb24tcG9wdXBcIixcclxuICBwb3BVcFBob3RvU2VsZWN0b3I6IFwiLmRlc3RpbmF0aW9uLXBvcHVwX19waG90b1wiLFxyXG4gIHBvcFVwRGVzY1NlbGVjdG9yOiBcIi5kZXN0aW5hdGlvbi1wb3B1cF9fZGVzY3JpcHRpb25cIixcclxuICBub3RMaWtlZEJ1dHRvbkNsYXNzOiBcImJ1dHRvbl9faWNvbl9hY3Rpb25fbGlrZVwiLFxyXG4gIGlzTGlrZWRCdXR0b25DbGFzczogXCJidXR0b25fX2ljb25fYWN0aW9uX2xpa2VkXCIsXHJcbn07XHJcblxyXG5jb25zdCB2YWxpZGF0aW9uQ29uZmlnID0ge1xyXG4gIGZvcm1TZWxlY3RvcjogXCIuZm9ybVwiLFxyXG4gIGlucHV0U2VsZWN0b3I6IFwiLmZvcm1fX2lucHV0XCIsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLmJ1dHRvbl9sb2NhdGlvbl9mb3JtXCIsXHJcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJidXR0b25fc3RhdHVzX2luYWN0aXZlXCIsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiBcImZvcm1fX2lucHV0X3N0YXR1c19lcnJvclwiLFxyXG4gIGVycm9yQ2xhc3M6IFwiZm9ybV9faW5wdXQtZXJyb3JcIixcclxufTtcclxuXHJcbmNvbnN0IGZvcm1Db25maWcgPSB7XHJcbiAgZm9ybVRlbXBsYXRlU2VsZWN0b3I6IFwiI2Zvcm0tdGVtcGxhdGVcIixcclxuICBmb3JtU2VsZWN0b3I6IFwiLmZvcm1cIixcclxuICBmb3JtVGl0bGVTZWxlY3RvcjogXCIuZm9ybV9fdGl0bGVcIixcclxuICBmb3JtQnV0dG9uU2VsZWN0b3I6IFwiLmJ1dHRvblwiLFxyXG4gIGZvcm1JbnB1dFRlbXBsYXRlU2VsZWN0b3I6IFwiI2Zvcm1fX2lucHV0LXRlbXBsYXRlXCIsXHJcbiAgZm9ybUlucHV0U2V0U2VsZWN0b3I6IFwiLmZvcm1fX2lucHV0LXNldFwiLFxyXG4gIGZvcm1JbnB1dFNlbGVjdG9yOiBcIi5mb3JtX19pbnB1dFwiLFxyXG4gIGZvcm1JbnB1dHNBcmVhU2VsZWN0b3I6IFwiLmZvcm1fX2lucHV0c1wiLFxyXG59O1xyXG5cclxuY29uc3QgaW5wdXRTZXRDb25maWcgPSB7XHJcbiAgaW5wdXRUZW1wbGF0ZVNlbGVjdG9yOiBcIiNmb3JtX19pbnB1dC10ZW1wbGF0ZVwiLFxyXG4gIGlucHV0U2V0U2VsZWN0b3I6IFwiLmZvcm1fX2lucHV0LXNldFwiLFxyXG4gIGlucHV0U2VsZWN0b3I6IFwiLmZvcm1fX2lucHV0XCIsXHJcbn07XHJcblxyXG5jb25zdCBtb2RhbENvbmZpZyA9IHtcclxuICBtb2RhbFRlbXBsYXRlU2VsZWN0b3I6IFwiI21vZGFsLXRlbXBsYXRlXCIsXHJcbiAgbW9kYWxTZWxlY3RvcjogXCIubW9kYWwtY29udGFpbmVyXCIsXHJcbiAgbW9kYWxDb250ZW50U2VsZWN0b3I6IFwiLm1vZGFsLWNvbnRhaW5lcl9fY29udGVudFwiLFxyXG4gIG1vZGFsQmFja2Ryb3BTZWxlY3RvcjogXCIubW9kYWwtY29udGFpbmVyX19iYWNrZHJvcFwiLFxyXG4gIG1vZGFsQ2xvc2VCdXR0b25TZWxlY3RvcjogXCIuYnV0dG9uX19pY29uX2FjdGlvbl9jbG9zZVwiLFxyXG4gIG1vZGFsTW9kaWZpZXJGb3JtQ2xhc3M6IFwibW9kYWwtY29udGFpbmVyX19mb3JtXCIsXHJcbiAgbW9kYWxDbG9zZWRTdGF0ZUNsYXNzOiBcIm1vZGFsLWNvbnRhaW5lcl9zdGF0ZV9jbG9zZWRcIixcclxuICBtb2RhbE9wZW5lZFN0YXRlQ2xhc3M6IFwibW9kYWwtY29udGFpbmVyX3N0YXRlX29wZW5lZFwiLFxyXG4gIG1vZGFsQ2xvc2luZ1RpbWVJbk1zOiBcIjMwMFwiLFxyXG4gIGZvcm1DbGFzczogXCJmb3JtXCIsXHJcbn07XHJcblxyXG5jb25zdCBwb3B1cENvbmZpZyA9IHtcclxuICBwb3B1cFRlbXBsYXRlU2VsZWN0b3I6IFwiI3BvcHVwLXRlbXBsYXRlXCIsXHJcbiAgcG9wdXBTZWxlY3RvcjogXCIucG9wdXBcIixcclxuICBwb3B1cENvbnRlbnRTZWxlY3RvcjogXCIucG9wdXBfX2NvbnRlbnRcIixcclxuICBwb3B1cEJhY2tkcm9wU2VsZWN0b3I6IFwiLnBvcHVwX19iYWNrZHJvcFwiLFxyXG4gIHBvcHVwQ2xvc2VCdXR0b25TZWxlY3RvcjogXCIuYnV0dG9uX19pY29uX2FjdGlvbl9jbG9zZVwiLFxyXG4gIHBvcHVwTW9kaWZpZXJGb3JtQ2xhc3M6IFwicG9wdXBfX2NvbnRlbnRfdHlwZV9mb3JtXCIsXHJcbiAgcG9wdXBNb2RpZmllckltYWdlQ2xhc3M6IFwicG9wdXBfX2NvbnRlbnRfdHlwZV9pbWFnZVwiLFxyXG4gIHBvcHVwQ2xvc2VkU3RhdGVDbGFzczogXCJwb3B1cF9zdGF0ZV9jbG9zZWRcIixcclxuICBwb3B1cE9wZW5lZFN0YXRlQ2xhc3M6IFwicG9wdXBfc3RhdGVfb3BlbmVkXCIsXHJcbiAgcG9wdXBDbG9zaW5nVGltZUluTXM6IFwiMzAwXCIsXHJcbiAgZm9ybUNsYXNzOiBcImZvcm1cIixcclxufTtcclxuXHJcbmNvbnN0IGdsb2JhbENvbmZpZyA9IHtcclxuICBwYWdlU2VsZWN0b3I6IFwiLnBhZ2VcIixcclxuICBlZGl0UHJvZmlsZUJ1dHRvblNlbGVjdG9yOiBcIi5idXR0b25fYWN0aW9uX2VkaXQuYnV0dG9uX2xvY2F0aW9uX3Byb2ZpbGUtaW5mb1wiLFxyXG4gIGVkaXRBdmF0YXJCdXR0b25TZWxlY3RvcjpcclxuICAgIFwiLmJ1dHRvbl9hY3Rpb25fZWRpdC5idXR0b25fbG9jYXRpb25fcHJvZmlsZS1hdmF0YXJcIixcclxuICBhZGRDYXJkQnV0dG9uU2VsZWN0b3I6IFwiLmJ1dHRvbl9hY3Rpb25fYWRkXCIsXHJcbiAgY2FyZHNDb250YWluZXJTZWxlY3RvcjogXCIuZGVzdGluYXRpb25zX19saXN0XCIsXHJcbiAgcHJvZmlsZUF2YXRhclNlbGVjdG9yOiBcIi5wcm9maWxlX19hdmF0YXJcIixcclxuICBwcm9maWxlTmFtZVNlbGVjdG9yOiBcIi5wcm9maWxlX19uYW1lXCIsXHJcbiAgcHJvZmlsZU9jY3VwYXRpb25TZWxlY3RvcjogXCIucHJvZmlsZV9fb2NjdXBhdGlvblwiLFxyXG4gIHBvcHVwU2VsZWN0b3I6IFwiLnBvcHVwXCIsXHJcbn07XHJcblxyXG5jb25zdCBzZWN0aW9uQ29uZmlnID0ge1xyXG4gIGFkZGl0aW9uVHlwZUFwcGVuZDogXCJhcHBlbmRcIixcclxuICBhZGRpdGlvblR5cGVQcmVwZW5kOiBcInByZXBlbmRcIixcclxufTtcclxuXHJcbmNvbnN0IGFwaUNvbmZpZyA9IHtcclxuICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvd2ViX2VzXzEwXCIsXHJcbiAgdG9rZW46IFwiZjBiM2Y0MzktYWNjMS00ZGE0LWFiOWYtMzRkZjJmNTFlMzQwXCIsXHJcbiAgdXNlckluZm9SZXNvdXJjZTogXCIvdXNlcnMvbWVcIixcclxuICBhdmF0YXJSZXNvdXJjZTogXCIvdXNlcnMvbWUvYXZhdGFyXCIsXHJcbiAgY2FyZFJlc291cmNlOiBcIi9jYXJkc1wiLFxyXG4gIGdldE1ldGhvZDogXCJHRVRcIixcclxuICBwb3N0TWV0aG9kOiBcIlBPU1RcIixcclxuICBwYXRjaE1ldGhvZDogXCJQQVRDSFwiLFxyXG4gIGRlbGV0ZU1ldGhvZDogXCJERUxFVEVcIixcclxufTtcclxuXHJcbmV4cG9ydCB7XHJcbiAgY2FyZENvbmZpZyxcclxuICB2YWxpZGF0aW9uQ29uZmlnLFxyXG4gIGZvcm1Db25maWcsXHJcbiAgaW5wdXRTZXRDb25maWcsXHJcbiAgbW9kYWxDb25maWcsXHJcbiAgcG9wdXBDb25maWcsXHJcbiAgZ2xvYmFsQ29uZmlnLFxyXG4gIHNlY3Rpb25Db25maWcsXHJcbiAgYXBpQ29uZmlnLFxyXG59O1xyXG4iLCJpbXBvcnQgeyBnbG9iYWxDb25maWcgfSBmcm9tIFwiLi9jb25maWcuanNcIjtcclxuXHJcbmNvbnN0IHBhZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGdsb2JhbENvbmZpZy5wYWdlU2VsZWN0b3IpO1xyXG5cclxuY29uc3QgaW5wdXRTZXRBdmF0YXJEYXRhID0ge1xyXG4gIHR5cGU6IFwidXJsXCIsXHJcbiAgbmFtZTogXCJhdmF0YXJVcmxcIixcclxuICBwbGFjZWhvbGRlcjogXCJFbmxhY2UgYSBsYSBpbWFnZW5cIixcclxuICBpc1JlcXVpcmVkOiB0cnVlLFxyXG4gIG1heGxlbmd0aDogNTAwLFxyXG4gIG1pbmxlbmd0aDogbnVsbCxcclxufTtcclxuXHJcbmNvbnN0IGlucHV0U2V0TmFtZURhdGEgPSB7XHJcbiAgdHlwZTogXCJ0ZXh0XCIsXHJcbiAgbmFtZTogXCJuYW1lXCIsXHJcbiAgcGxhY2Vob2xkZXI6IFwiTm9tYnJlXCIsXHJcbiAgaXNSZXF1aXJlZDogdHJ1ZSxcclxuICBtYXhsZW5ndGg6IDQwLFxyXG4gIG1pbmxlbmd0aDogMixcclxufTtcclxuXHJcbmNvbnN0IGlucHV0U2V0QWJvdXRNZURhdGEgPSB7XHJcbiAgdHlwZTogXCJ0ZXh0XCIsXHJcbiAgbmFtZTogXCJhYm91dE1lXCIsXHJcbiAgcGxhY2Vob2xkZXI6IFwiQWNlcmNhIGRlIG3DrVwiLFxyXG4gIGlzUmVxdWlyZWQ6IHRydWUsXHJcbiAgbWF4bGVuZ3RoOiAyMDAsXHJcbiAgbWlubGVuZ3RoOiAyLFxyXG59O1xyXG5cclxuY29uc3QgaW5wdXRTZXRUaXRsZURhdGEgPSB7XHJcbiAgdHlwZTogXCJ0ZXh0XCIsXHJcbiAgbmFtZTogXCJ0aXRsZVwiLFxyXG4gIHBsYWNlaG9sZGVyOiBcIlTDrXR1bG9cIixcclxuICBpc1JlcXVpcmVkOiB0cnVlLFxyXG4gIG1heGxlbmd0aDogMzAsXHJcbiAgbWlubGVuZ3RoOiAyLFxyXG59O1xyXG5cclxuY29uc3QgaW5wdXRTZXRJbWFnZVVybERhdGEgPSB7XHJcbiAgdHlwZTogXCJ1cmxcIixcclxuICBuYW1lOiBcImltYWdlVXJsXCIsXHJcbiAgcGxhY2Vob2xkZXI6IFwiRW5sYWNlIGEgbGEgaW1hZ2VuXCIsXHJcbiAgaXNSZXF1aXJlZDogdHJ1ZSxcclxuICBtYXhsZW5ndGg6IDUwMCxcclxuICBtaW5sZW5ndGg6IG51bGwsXHJcbn07XHJcblxyXG5leHBvcnQge1xyXG4gIHBhZ2UsXHJcbiAgaW5wdXRTZXRBdmF0YXJEYXRhLFxyXG4gIGlucHV0U2V0TmFtZURhdGEsXHJcbiAgaW5wdXRTZXRBYm91dE1lRGF0YSxcclxuICBpbnB1dFNldFRpdGxlRGF0YSxcclxuICBpbnB1dFNldEltYWdlVXJsRGF0YSxcclxufTtcclxuIiwiaW1wb3J0IHsgcGFnZSB9IGZyb20gXCIuLi9oZWxwZXJzL2NvbnN0YW50cy5qc1wiO1xyXG5pbXBvcnQgeyBjYXJkQ29uZmlnIH0gZnJvbSBcIi4uL2hlbHBlcnMvY29uZmlnLmpzXCI7XHJcblxyXG5jbGFzcyBDYXJkIHtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIGlkLFxyXG4gICAgbmFtZSxcclxuICAgIGltYWdlVXJsLFxyXG4gICAgaGFuZGxlQ2FyZENsaWNrLFxyXG4gICAgaGFuZGxlQ2FyZERlbGV0ZSxcclxuICAgIGNvbmZpZyA9IGNhcmRDb25maWdcclxuICApIHtcclxuICAgIHRoaXMuX2lkID0gaWQ7XHJcbiAgICB0aGlzLl9uYW1lID0gbmFtZTtcclxuICAgIHRoaXMuX2ltYWdlVXJsID0gaW1hZ2VVcmw7XHJcbiAgICB0aGlzLl9jb25maWcgPSBjb25maWc7XHJcbiAgICB0aGlzLl9jYXJkID0gbnVsbDtcclxuICAgIHRoaXMuX3BvcFVwQ2FyZCA9IG51bGw7XHJcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XHJcbiAgICB0aGlzLl9oYW5kbGVDYXJkRGVsZXRlID0gaGFuZGxlQ2FyZERlbGV0ZTtcclxuICAgIHRoaXMuX2hhbmRsZUxpa2VCdXR0b25DbGljayA9IHRoaXMuX2hhbmRsZUxpa2VCdXR0b25DbGljay5iaW5kKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgX3NldENhcmRJZChpZCkge1xyXG4gICAgY29uc29sZS5sb2codGhpcy5fY2FyZCk7XHJcbiAgICB0aGlzLl9jYXJkLnNldEF0dHJpYnV0ZShcImlkXCIsIGBpZF8ke2lkfWApO1xyXG4gIH1cclxuXHJcbiAgX3NldENhcmROYW1lKG5hbWUpIHtcclxuICAgIHRoaXMuX2NhcmQucXVlcnlTZWxlY3Rvcih0aGlzLl9jb25maWcuY2FyZE5hbWVTZWxlY3RvcikudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gIH1cclxuXHJcbiAgX3NldENhcmRJbWFnZShhbHQsIGltYWdlVXJsKSB7XHJcbiAgICBjb25zdCBpbWFnZSA9IHRoaXMuX2NhcmQucXVlcnlTZWxlY3Rvcih0aGlzLl9jb25maWcuY2FyZEltYWdlU2VsZWN0b3IpO1xyXG4gICAgaW1hZ2Uuc2V0QXR0cmlidXRlKFwiYWx0XCIsIGFsdCk7XHJcbiAgICBpbWFnZS5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgaW1hZ2VVcmwpO1xyXG4gIH1cclxuXHJcbiAgX3NldFBvcFVwRGVzY3JpcHRpb24oZGVzY3JpcHRpb24pIHtcclxuICAgIHRoaXMuX3BvcFVwQ2FyZC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NvbmZpZy5wb3BVcERlc2NTZWxlY3RvcikudGV4dENvbnRlbnQgPVxyXG4gICAgICBkZXNjcmlwdGlvbjtcclxuICB9XHJcblxyXG4gIF9nZXRUZW1wbGF0ZSgpIHtcclxuICAgIHJldHVybiBwYWdlXHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NvbmZpZy5jYXJkVGVtcGxhdGVTZWxlY3RvcilcclxuICAgICAgLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpO1xyXG4gIH1cclxuXHJcbiAgX2dldEltYWdlKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2NhcmQucXVlcnlTZWxlY3Rvcih0aGlzLl9jb25maWcuY2FyZEltYWdlU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgX2dldExpa2VCdXR0b24oKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fY2FyZC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NvbmZpZy5saWtlQnV0dG9uU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgX2dldERlbGV0ZUJ1dHRvbigpIHtcclxuICAgIHJldHVybiB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY29uZmlnLmRlbGV0ZUJ1dHRvblNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIF9nZXRQb3BVcFRlbXBsYXRlKCkge1xyXG4gICAgcmV0dXJuIHBhZ2VcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY29uZmlnLnBvcFVwVGVtcGxhdGVTZWxlY3RvcilcclxuICAgICAgLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpO1xyXG4gIH1cclxuXHJcbiAgX2dldFBvcFVwSW1hZ2UoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fcG9wVXBDYXJkLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY29uZmlnLnBvcFVwUGhvdG9TZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICBfc2V0Q2FyZExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2dldEltYWdlKCkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX2hhbmRsZUNhcmRDbGljayk7XHJcblxyXG4gICAgdGhpcy5fZ2V0TGlrZUJ1dHRvbigpLmFkZEV2ZW50TGlzdGVuZXIoXHJcbiAgICAgIFwiY2xpY2tcIixcclxuICAgICAgdGhpcy5faGFuZGxlTGlrZUJ1dHRvbkNsaWNrXHJcbiAgICApO1xyXG4gICAgdGhpcy5fZ2V0RGVsZXRlQnV0dG9uKCkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX2hhbmRsZUNhcmREZWxldGUpO1xyXG4gIH1cclxuXHJcbiAgX3JlbW92ZUNhcmRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9nZXRJbWFnZSgpLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9oYW5kbGVDYXJkQ2xpY2spO1xyXG4gICAgdGhpcy5fZ2V0TGlrZUJ1dHRvbigpLnJlbW92ZUV2ZW50TGlzdGVuZXIoXHJcbiAgICAgIFwiY2xpY2tcIixcclxuICAgICAgdGhpcy5faGFuZGxlTGlrZUJ1dHRvbkNsaWNrXHJcbiAgICApO1xyXG4gICAgdGhpcy5fZ2V0RGVsZXRlQnV0dG9uKCkucmVtb3ZlRXZlbnRMaXN0ZW5lcihcclxuICAgICAgXCJjbGlja1wiLFxyXG4gICAgICB0aGlzLl9oYW5kbGVDYXJkRGVsZXRlXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgX3RvZ2dsZUxpa2VCdXR0b24oKSB7XHJcbiAgICB0aGlzLl9pc0xpa2VkKCkgPyB0aGlzLl9saWtlKCkgOiB0aGlzLl9kaXNsaWtlKCk7XHJcbiAgfVxyXG5cclxuICBfbGlrZSgpIHtcclxuICAgIHRoaXMuX2dldExpa2VCdXR0b24oKS5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NvbmZpZy5ub3RMaWtlZEJ1dHRvbkNsYXNzKTtcclxuICAgIHRoaXMuX2dldExpa2VCdXR0b24oKS5jbGFzc0xpc3QuYWRkKHRoaXMuX2NvbmZpZy5pc0xpa2VkQnV0dG9uQ2xhc3MpO1xyXG4gIH1cclxuXHJcbiAgX2Rpc2xpa2UoKSB7XHJcbiAgICB0aGlzLl9nZXRMaWtlQnV0dG9uKCkuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9jb25maWcuaXNMaWtlZEJ1dHRvbkNsYXNzKTtcclxuICAgIHRoaXMuX2dldExpa2VCdXR0b24oKS5jbGFzc0xpc3QuYWRkKHRoaXMuX2NvbmZpZy5ub3RMaWtlZEJ1dHRvbkNsYXNzKTtcclxuICB9XHJcblxyXG4gIF9pc0xpa2VkKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2dldExpa2VCdXR0b24oKS5jbGFzc0xpc3QuY29udGFpbnMoXHJcbiAgICAgIHRoaXMuX2NvbmZpZy5ub3RMaWtlZEJ1dHRvbkNsYXNzXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUxpa2VCdXR0b25DbGljaygpIHtcclxuICAgIHRoaXMuX3RvZ2dsZUxpa2VCdXR0b24oKTtcclxuICB9XHJcblxyXG4gIGJ1aWxkQ2FyZCgpIHtcclxuICAgIHRoaXMuX2NhcmQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY29uZmlnLmNhcmRTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9zZXRDYXJkSWQodGhpcy5faWQpO1xyXG4gICAgdGhpcy5fc2V0Q2FyZE5hbWUodGhpcy5fbmFtZSk7XHJcbiAgICB0aGlzLl9zZXRDYXJkSW1hZ2UodGhpcy5fbmFtZSwgdGhpcy5faW1hZ2VVcmwpO1xyXG4gICAgdGhpcy5fc2V0Q2FyZExpc3RlbmVycygpO1xyXG4gICAgcmV0dXJuIHRoaXMuX2NhcmQ7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBDYXJkO1xyXG4iLCJpbXBvcnQgeyBwYWdlIH0gZnJvbSBcIi4uL2hlbHBlcnMvY29uc3RhbnRzLmpzXCI7XHJcbmltcG9ydCB7IHBvcHVwQ29uZmlnIH0gZnJvbSBcIi4uL2hlbHBlcnMvY29uZmlnLmpzXCI7XHJcblxyXG5jbGFzcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgY29uZmlnID0gcG9wdXBDb25maWcpIHtcclxuICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcclxuICAgIHRoaXMuX3BvcHVwU2VsZWN0b3IgPSBwb3B1cFNlbGVjdG9yO1xyXG4gICAgdGhpcy5fcG9wdXAgPSBudWxsO1xyXG4gICAgdGhpcy5faXNDbG9zaW5nID0gbnVsbDtcclxuICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcclxuICAgIHRoaXMuX2hhbmRsZUNsaWNrQ2xvc2UgPSB0aGlzLl9oYW5kbGVDbGlja0Nsb3NlLmJpbmQodGhpcyk7XHJcbiAgfVxyXG5cclxuICBfZ2V0VGVtcGxhdGUoKSB7XHJcbiAgICByZXR1cm4gcGFnZVxyXG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jb25maWcucG9wdXBUZW1wbGF0ZVNlbGVjdG9yKVxyXG4gICAgICAuY2xvbmVOb2RlKHRydWUpLmNvbnRlbnQ7XHJcbiAgfVxyXG5cclxuICBfZ2V0TW9kYWxCYWNrZHJvcCgpIHtcclxuICAgIHJldHVybiB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NvbmZpZy5wb3B1cEJhY2tkcm9wU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgX2dldENsb3NlQnV0dG9uKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY29uZmlnLnBvcHVwQ2xvc2VCdXR0b25TZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICBfdG9nZ2xlUG9wdXAoKSB7XHJcbiAgICBpZiAoIXRoaXMuX3BvcHVwLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLl9jb25maWcucG9wdXBPcGVuZWRTdGF0ZUNsYXNzKSkge1xyXG4gICAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKHRoaXMuX2NvbmZpZy5wb3B1cE9wZW5lZFN0YXRlQ2xhc3MpO1xyXG4gICAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NvbmZpZy5wb3B1cENsb3NlZFN0YXRlQ2xhc3MpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZCh0aGlzLl9jb25maWcucG9wdXBDbG9zZWRTdGF0ZUNsYXNzKTtcclxuICAgICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9jb25maWcucG9wdXBPcGVuZWRTdGF0ZUNsYXNzKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9wbGF5Q2xvc2luZ0FuaW1hdGlvbigpIHtcclxuICAgIHRoaXMuX2lzQ2xvc2luZyA9IHRydWU7XHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgdGhpcy5fcG9wdXAucmVtb3ZlKCk7XHJcbiAgICAgIHRoaXMuX2lzQ2xvc2luZyA9IGZhbHNlO1xyXG4gICAgfSwgdGhpcy5fY29uZmlnLnBvcHVwQ2xvc2luZ1RpbWVJbk1zKTtcclxuICB9XHJcblxyXG4gIF9jbG9zZU9uQ2xpY2soZWxlbWVudCkge1xyXG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5faGFuZGxlQ2xpY2tDbG9zZSk7XHJcbiAgfVxyXG5cclxuICBfY2xvc2VPbkVzY2FwZShlbGVtZW50KSB7XHJcbiAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVDbGlja0Nsb3NlKGV2dCkge1xyXG4gICAgZXZ0LnR5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJjbGlja1wiICYmIHRoaXMuY2xvc2UoKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVFc2NDbG9zZShldnQpIHtcclxuICAgIGV2dC5rZXk/LnRvTG93ZXJDYXNlKCkgPT09IFwiZXNjYXBlXCIgJiYgdGhpcy5jbG9zZSgpO1xyXG4gIH1cclxuXHJcbiAgX2lzT3BlbmVkKCkge1xyXG4gICAgcmV0dXJuIHBhZ2UucXVlcnlTZWxlY3Rvcih0aGlzLnBvcHVwU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgZ2V0Q29udGVudFNlbGVjdG9yKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2NvbmZpZy5wb3B1cENvbnRlbnRTZWxlY3RvcjtcclxuICB9XHJcblxyXG4gIF9nZXRDb250ZW50Q29udGFpbmVyKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY29uZmlnLnBvcHVwQ29udGVudFNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIF9tb2RpZnlDb250ZW50Q29udGFpbmVyKGNvbnRlbnRDbGFzcykge1xyXG4gICAgdGhpcy5fZ2V0Q29udGVudENvbnRhaW5lcigpLmNsYXNzTGlzdC5hZGQoY29udGVudENsYXNzKTtcclxuICB9XHJcblxyXG4gIG9wZW4oKSB7XHJcbiAgICBpZiAoIXRoaXMuX2lzT3BlbmVkKCkpIHtcclxuICAgICAgdGhpcy5fdG9nZ2xlUG9wdXAoKTtcclxuICAgICAgcGFnZS5wcmVwZW5kKHRoaXMuX3BvcHVwKTtcclxuICAgIH1cclxuICAgIHRoaXMuX3BvcHVwLmZvY3VzKCk7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIGlmICghdGhpcy5faXNDbG9zaW5nKSB7XHJcbiAgICAgIHRoaXMuX3RvZ2dsZVBvcHVwKCk7XHJcbiAgICAgIHRoaXMuX3BsYXlDbG9zaW5nQW5pbWF0aW9uKCk7XHJcbiAgICB9XHJcbiAgICAvL3RoaXMuX3JlbW92ZU1vZGFsTGlzdGVuZXJzKCk7XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2Nsb3NlT25DbGljayh0aGlzLl9nZXRNb2RhbEJhY2tkcm9wKCkpO1xyXG4gICAgdGhpcy5fY2xvc2VPbkNsaWNrKHRoaXMuX2dldENsb3NlQnV0dG9uKCkpO1xyXG4gICAgdGhpcy5fY2xvc2VPbkVzY2FwZSh0aGlzLl9wb3B1cCk7XHJcbiAgfVxyXG5cclxuICBidWlsZFBvcHVwKCkge1xyXG4gICAgdGhpcy5fcG9wdXAgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpLnF1ZXJ5U2VsZWN0b3IodGhpcy5fcG9wdXBTZWxlY3Rvcik7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQb3B1cDtcclxuIiwiaW1wb3J0IHsgcG9wdXBDb25maWcgfSBmcm9tIFwiLi4vaGVscGVycy9jb25maWcuanNcIjtcclxuaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5jbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIHN1Ym1pdEV2ZW50SGFuZGxlciwgZm9ybSkge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3RvciwgcG9wdXBDb25maWcpO1xyXG4gICAgdGhpcy5fc3VibWl0RXZlbnRIYW5kbGVyID0gc3VibWl0RXZlbnRIYW5kbGVyO1xyXG4gICAgdGhpcy5fc3VibWl0RXZlbnRIYW5kbGVyID0gdGhpcy5fc3VibWl0RXZlbnRIYW5kbGVyLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLl9wb3N0U3VibWl0RXZlbnRIYW5kbGVyID0gdGhpcy5fcG9zdFN1Ym1pdEV2ZW50SGFuZGxlci5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5fZm9ybSA9IGZvcm07XHJcbiAgfVxyXG5cclxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fZm9ybS5pbnB1dFZhbHVlcztcclxuICB9XHJcblxyXG4gIF9tb2RpZnlDb250ZW50Q29udGFpbmVyKCkge1xyXG4gICAgc3VwZXIuX21vZGlmeUNvbnRlbnRDb250YWluZXIocG9wdXBDb25maWcucG9wdXBNb2RpZmllckZvcm1DbGFzcyk7XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgdGhpcy5fc3VibWl0RXZlbnRIYW5kbGVyKTtcclxuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCB0aGlzLl9wb3N0U3VibWl0RXZlbnRIYW5kbGVyKTtcclxuICB9XHJcblxyXG4gIF9wb3N0U3VibWl0RXZlbnRIYW5kbGVyKCkge1xyXG4gICAgdGhpcy5fZm9ybS5yZW1vdmVFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIHRoaXMuX3N1Ym1pdEV2ZW50SGFuZGxlcik7XHJcbiAgICB0aGlzLl9mb3JtLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgdGhpcy5fcG9zdFN1Ym1pdEV2ZW50SGFuZGxlcik7XHJcbiAgICB0aGlzLmNsb3NlKCk7XHJcbiAgfVxyXG5cclxuICBfc2V0Rm9ybSgpIHtcclxuICAgIHRoaXMuX21vZGlmeUNvbnRlbnRDb250YWluZXIoKTtcclxuICAgIHRoaXMuX2dldENvbnRlbnRDb250YWluZXIoKS5hcHBlbmQodGhpcy5fZm9ybSk7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICB0aGlzLl9mb3JtLnJlc2V0KCk7XHJcbiAgfVxyXG5cclxuICBvcGVuKCkge1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gICAgdGhpcy5fc2V0Rm9ybSgpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUG9wdXBXaXRoRm9ybTtcclxuIiwiaW1wb3J0IHsgcG9wdXBDb25maWcgfSBmcm9tIFwiLi4vaGVscGVycy9jb25maWcuanNcIjtcclxuaW1wb3J0IHsgcGFnZSB9IGZyb20gXCIuLi9oZWxwZXJzL2NvbnN0YW50cy5qc1wiO1xyXG5pbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIHsgaW1hZ2VVcmwsIGRlc2NyaXB0aW9uIH0pIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IsIHBvcHVwQ29uZmlnKTtcclxuICAgIHRoaXMuX2ltYWdlVXJsID0gaW1hZ2VVcmw7XHJcbiAgICB0aGlzLl9kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xyXG4gICAgdGhpcy5faW1hZ2UgPSBudWxsO1xyXG4gICAgdGhpcy5fY2FwdGlvbiA9IG51bGw7XHJcbiAgICB0aGlzLm9wZW4gPSB0aGlzLm9wZW4uYmluZCh0aGlzKTtcclxuICB9XHJcbiAgX21vZGlmeUNvbnRlbnRDb250YWluZXIoKSB7XHJcbiAgICBzdXBlci5fbW9kaWZ5Q29udGVudENvbnRhaW5lcihwb3B1cENvbmZpZy5wb3B1cE1vZGlmaWVySW1hZ2VDbGFzcyk7XHJcbiAgfVxyXG5cclxuICBfZ2V0SW1hZ2VUZW1wbGF0ZSgpIHtcclxuICAgIHJldHVybiBwYWdlLnF1ZXJ5U2VsZWN0b3IoXCIjcG9wdXBJbWFnZS10ZW1wbGF0ZVwiKS5jbG9uZU5vZGUodHJ1ZSkuY29udGVudDtcclxuICB9XHJcblxyXG4gIF9zZXRJbWFnZShpbWFnZVVybCwgZGVzY3JpcHRpb24pIHtcclxuICAgIHRoaXMuX2ltYWdlID0gdGhpcy5fZ2V0SW1hZ2VDb21wb25lbnQoKS5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19waG90b1wiKTtcclxuICAgIHRoaXMuX2ltYWdlLnNldEF0dHJpYnV0ZShcInNyY1wiLCBpbWFnZVVybCk7XHJcbiAgICB0aGlzLl9pbWFnZS5zZXRBdHRyaWJ1dGUoXCJhbHRcIiwgZGVzY3JpcHRpb24pO1xyXG4gIH1cclxuXHJcbiAgX3NldENhcHRpb24oZGVzY3JpcHRpb24pIHtcclxuICAgIHRoaXMuX2NhcHRpb24gPSB0aGlzLl9nZXRJbWFnZUNvbXBvbmVudCgpLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiLnBvcHVwX19kZXNjcmlwdGlvblwiXHJcbiAgICApO1xyXG4gICAgdGhpcy5fY2FwdGlvbi50ZXh0Q29udGVudCA9IGRlc2NyaXB0aW9uO1xyXG4gIH1cclxuXHJcbiAgX3NldEltYWdlQ29tcG9uZW50KCkge1xyXG4gICAgaWYgKCF0aGlzLl9pbWFnZUNvbXBvbmVudCkge1xyXG4gICAgICB0aGlzLl9pbWFnZUNvbXBvbmVudCA9IHRoaXMuX2dldEltYWdlVGVtcGxhdGUoKTtcclxuICAgICAgdGhpcy5fc2V0SW1hZ2UodGhpcy5faW1hZ2VVcmwsIHRoaXMuX2Rlc2NyaXB0aW9uKTtcclxuICAgICAgdGhpcy5fc2V0Q2FwdGlvbih0aGlzLl9kZXNjcmlwdGlvbik7XHJcbiAgICAgIHRoaXMuX21vZGlmeUNvbnRlbnRDb250YWluZXIoKTtcclxuICAgICAgdGhpcy5fZ2V0Q29udGVudENvbnRhaW5lcigpLmFwcGVuZCh0aGlzLl9pbWFnZSk7XHJcbiAgICAgIHRoaXMuX2dldENvbnRlbnRDb250YWluZXIoKS5hcHBlbmQodGhpcy5fY2FwdGlvbik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfZ2V0SW1hZ2VDb21wb25lbnQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5faW1hZ2VDb21wb25lbnQ7XHJcbiAgfVxyXG5cclxuICBvcGVuKCkge1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gICAgdGhpcy5fc2V0SW1hZ2VDb21wb25lbnQoKTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgc3VwZXIuY2xvc2UoKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFBvcHVwV2l0aEltYWdlO1xyXG4iLCJpbXBvcnQgeyB2YWxpZGF0aW9uQ29uZmlnIH0gZnJvbSBcIi4uL2hlbHBlcnMvY29uZmlnLmpzXCI7XHJcblxyXG5jbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3Rvcihmb3JtLCBjb25maWcgPSB2YWxpZGF0aW9uQ29uZmlnKSB7XHJcbiAgICB0aGlzLl9mb3JtID0gZm9ybTtcclxuICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcclxuICAgIHRoaXMuX2lucHV0VmFsaWRhdGlvbkhhbmRsZXIgPSB0aGlzLl9pbnB1dFZhbGlkYXRpb25IYW5kbGVyLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLl9mb3JtUHJlU3VibWl0VmFsaWRhdGlvbkhhbmRsZXIgPVxyXG4gICAgICB0aGlzLl9mb3JtUHJlU3VibWl0VmFsaWRhdGlvbkhhbmRsZXIuYmluZCh0aGlzKTtcclxuICB9XHJcblxyXG4gIF9mb3JtSXNWYWxpZCgpIHtcclxuICAgIGNvbnN0IGlucHV0cyA9IEFycmF5LmZyb20oXHJcbiAgICAgIHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9jb25maWcuaW5wdXRTZWxlY3RvcilcclxuICAgICk7XHJcbiAgICByZXR1cm4gaW5wdXRzLmV2ZXJ5KChpbnB1dCkgPT4ge1xyXG4gICAgICByZXR1cm4gaW5wdXQudmFsaWRpdHkudmFsaWQ7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF90b2dnbGVCdXR0b25TdGF0dXMoKSB7XHJcbiAgICBjb25zdCBzYXZlQnV0dG9uID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICB0aGlzLl9jb25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3JcclxuICAgICk7XHJcbiAgICBpZiAodGhpcy5fZm9ybUlzVmFsaWQoKSkge1xyXG4gICAgICBzYXZlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgc2F2ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuX2NvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9pbnB1dFZhbGlkYXRpb25IYW5kbGVyKGV2dCkge1xyXG4gICAgY29uc3QgaW5wdXRFbGVtZW50ID0gZXZ0LnRhcmdldDtcclxuICAgIGNvbnN0IGlucHV0RXJyb3JFbGVtZW50ID0gaW5wdXRFbGVtZW50Lm5leHRFbGVtZW50U2libGluZztcclxuICAgIGlucHV0RXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXZ0LnRhcmdldC52YWxpZGF0aW9uTWVzc2FnZTtcclxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXR1cygpO1xyXG4gIH1cclxuXHJcbiAgX2Zvcm1QcmVTdWJtaXRWYWxpZGF0aW9uSGFuZGxlcihldnQpIHtcclxuICAgIGNvbnN0IGlzU3VibWl0RXZlbnQgPVxyXG4gICAgICBldnQudHlwZS50b0xvd2VyQ2FzZSgpID09PSBcImNsaWNrXCIgfHwgZXZ0LmtleT8udG9Mb3dlckNhc2UoKSA9PT0gXCJlbnRlclwiO1xyXG4gICAgaWYgKCF0aGlzLl9mb3JtSXNWYWxpZCgpICYmIGlzU3VibWl0RXZlbnQpIHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfZ2V0U3VibWl0QnV0dG9uKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3Rvcih0aGlzLl9jb25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgX3NldEZvcm1WYWxpZGF0aW9uRXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCB0aGlzLl9pbnB1dFZhbGlkYXRpb25IYW5kbGVyKTtcclxuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcclxuICAgICAgXCJrZXlkb3duXCIsXHJcbiAgICAgIHRoaXMuX2Zvcm1QcmVTdWJtaXRWYWxpZGF0aW9uSGFuZGxlclxyXG4gICAgKTtcclxuICAgIHRoaXMuX2dldFN1Ym1pdEJ1dHRvbigpLmFkZEV2ZW50TGlzdGVuZXIoXHJcbiAgICAgIFwiY2xpY2tcIixcclxuICAgICAgdGhpcy5fZm9ybVByZVN1Ym1pdFZhbGlkYXRpb25IYW5kbGVyXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgcmVtb3ZlRm9ybVZhbGlkYXRpb25FdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2Zvcm0ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIHRoaXMuX2lucHV0VmFsaWRhdGlvbkhhbmRsZXIpO1xyXG4gICAgdGhpcy5fZm9ybS5yZW1vdmVFdmVudExpc3RlbmVyKFxyXG4gICAgICBcImtleWRvd25cIixcclxuICAgICAgdGhpcy5fZm9ybVByZVN1Ym1pdFZhbGlkYXRpb25IYW5kbGVyXHJcbiAgICApO1xyXG4gICAgdGhpcy5fZ2V0U3VibWl0QnV0dG9uKCkucmVtb3ZlRXZlbnRMaXN0ZW5lcihcclxuICAgICAgXCJjbGlja1wiLFxyXG4gICAgICB0aGlzLl9mb3JtUHJlU3VibWl0VmFsaWRhdGlvbkhhbmRsZXJcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdHVzKCk7XHJcbiAgICB0aGlzLl9zZXRGb3JtVmFsaWRhdGlvbkV2ZW50TGlzdGVuZXJzKHRoaXMuX2Zvcm0sIHRoaXMuX2NvbmZpZyk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBGb3JtVmFsaWRhdG9yO1xyXG4iLCJpbXBvcnQgeyBnbG9iYWxDb25maWcgfSBmcm9tIFwiLi9jb25maWcuanNcIjtcclxuaW1wb3J0IHsgcGFnZSB9IGZyb20gXCIuL2NvbnN0YW50cy5qc1wiO1xyXG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XHJcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcclxuXHJcbmNvbnN0IGVuYWJsZUZvcm1WYWxpZGF0aW9uT24gPSAoZm9ybSkgPT4ge1xyXG4gIGNvbnN0IGZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihmb3JtKTtcclxuICBmb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZVBvcHVwV2l0aEZvcm0gPSAoZm9ybSwgc3VibWl0SGFuZGxlcikgPT4ge1xyXG4gIGNvbnN0IHBvcFVwV2l0aEZvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybShcclxuICAgIGdsb2JhbENvbmZpZy5wb3B1cFNlbGVjdG9yLFxyXG4gICAgc3VibWl0SGFuZGxlcixcclxuICAgIGZvcm1cclxuICApO1xyXG4gIHBvcFVwV2l0aEZvcm0uYnVpbGRQb3B1cCgpO1xyXG4gIHBvcFVwV2l0aEZvcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICByZXR1cm4gcG9wVXBXaXRoRm9ybTtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZVBvcHVwV2l0aEltYWdlID0gKGltYWdlVXJsLCBkZXNjcmlwdGlvbikgPT4ge1xyXG4gIGNvbnN0IGltYWdlUG9wdXAgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoZ2xvYmFsQ29uZmlnLnBvcHVwU2VsZWN0b3IsIHtcclxuICAgIGltYWdlVXJsLFxyXG4gICAgZGVzY3JpcHRpb24sXHJcbiAgfSk7XHJcbiAgaW1hZ2VQb3B1cC5idWlsZFBvcHVwKCk7XHJcbiAgaW1hZ2VQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIHJldHVybiBpbWFnZVBvcHVwO1xyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlQ2FyZCA9IChcclxuICBjYXJkSWQsXHJcbiAgY2FyZE5hbWUsXHJcbiAgY2FyZExpbmssXHJcbiAgY2FyZENsaWNrRXZlbnRIYW5kbGVyLFxyXG4gIGNhcmREZWxldGVFdmVudEhhbmRsZXJcclxuKSA9PiB7XHJcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxyXG4gICAgY2FyZElkLFxyXG4gICAgY2FyZE5hbWUsXHJcbiAgICBjYXJkTGluayxcclxuICAgIGNhcmRDbGlja0V2ZW50SGFuZGxlcixcclxuICAgIGNhcmREZWxldGVFdmVudEhhbmRsZXJcclxuICApO1xyXG4gIHJldHVybiBjYXJkLmJ1aWxkQ2FyZCgpO1xyXG59O1xyXG5cclxuY29uc3QgcmVtb3ZlSFRNTEVsZW1lbnQgPSAoaHRtbEVsZW1lbnQpID0+IHtcclxuICBpZiAoaHRtbEVsZW1lbnQpIGh0bWxFbGVtZW50LnJlbW92ZSgpO1xyXG59O1xyXG5cclxuY29uc3Qgc2V0UGFnZUJ1dHRvbkhhbmRsZXIgPSAoYnV0dG9uU2VsZWN0b3IsIGNsaWNrRXZlbnRIYW5kbGVyKSA9PiB7XHJcbiAgcGFnZVxyXG4gICAgLnF1ZXJ5U2VsZWN0b3IoYnV0dG9uU2VsZWN0b3IpXHJcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsaWNrRXZlbnRIYW5kbGVyKTtcclxufTtcclxuXHJcbmV4cG9ydCB7XHJcbiAgc2V0UGFnZUJ1dHRvbkhhbmRsZXIsXHJcbiAgcmVtb3ZlSFRNTEVsZW1lbnQsXHJcbiAgZW5hYmxlRm9ybVZhbGlkYXRpb25PbixcclxuICBjcmVhdGVQb3B1cFdpdGhGb3JtLFxyXG4gIGNyZWF0ZVBvcHVwV2l0aEltYWdlLFxyXG4gIGNyZWF0ZUNhcmQsXHJcbn07XHJcbiIsImNsYXNzIEFwaSB7XHJcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xyXG4gICAgdGhpcy5fYmFzZVVybCA9IG9wdGlvbnMuYmFzZVVybDtcclxuICAgIHRoaXMuX2hlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnMgfHwgbnVsbDtcclxuICAgIHRoaXMuX2JvZHkgPSBvcHRpb25zLmJvZHkgfHwgbnVsbDtcclxuICAgIHRoaXMuZ2V0ID0gdGhpcy5nZXQuYmluZCh0aGlzKTtcclxuICAgIHRoaXMucG9zdCA9IHRoaXMucG9zdC5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5wYXRjaCA9IHRoaXMucGF0Y2guYmluZCh0aGlzKTtcclxuICAgIHRoaXMuZGVsZXRlID0gdGhpcy5kZWxldGUuYmluZCh0aGlzKTtcclxuICAgIHRoaXMuX2J1aWxkUmVxdWVzdE9wdGlvbnMgPSB0aGlzLl9idWlsZFJlcXVlc3RPcHRpb25zLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLl9nZXRSZXF1ZXN0T3B0aW9ucyA9IHRoaXMuX2dldFJlcXVlc3RPcHRpb25zLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLl9yZXF1ZXN0T3B0aW9ucyA9IHt9O1xyXG4gIH1cclxuXHJcbiAgX3NldE1ldGhvZChtZXRob2QpIHtcclxuICAgIHRoaXMuX21ldGhvZCA9IG1ldGhvZDtcclxuICB9XHJcblxyXG4gIF9idWlsZFJlcXVlc3RPcHRpb25zKCkge1xyXG4gICAgaWYgKHRoaXMuX2hlYWRlcnMpIHtcclxuICAgICAgdGhpcy5fcmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IHRoaXMuX2hlYWRlcnM7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5fYm9keSkge1xyXG4gICAgICB0aGlzLl9yZXF1ZXN0T3B0aW9ucy5ib2R5ID0gSlNPTi5zdHJpbmdpZnkodGhpcy5fYm9keSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5fbWV0aG9kKSB7XHJcbiAgICAgIHRoaXMuX3JlcXVlc3RPcHRpb25zLm1ldGhvZCA9IHRoaXMuX21ldGhvZDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9nZXRSZXF1ZXN0T3B0aW9ucygpIHtcclxuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0T3B0aW9ucztcclxuICB9XHJcblxyXG4gIF9kb1JlcXVlc3QoKSB7XHJcbiAgICB0aGlzLl9idWlsZFJlcXVlc3RPcHRpb25zKCk7XHJcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fYmFzZVVybCwgdGhpcy5fZ2V0UmVxdWVzdE9wdGlvbnMoKSkudGhlbigocmVzKSA9PlxyXG4gICAgICByZXMub2sgPyByZXMuanNvbigpIDogUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YClcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBnZXQoKSB7XHJcbiAgICB0aGlzLl9zZXRNZXRob2QoXCJHRVRcIik7XHJcbiAgICByZXR1cm4gdGhpcy5fZG9SZXF1ZXN0KCk7XHJcbiAgfVxyXG5cclxuICBwb3N0KCkge1xyXG4gICAgdGhpcy5fc2V0TWV0aG9kKFwiUE9TVFwiKTtcclxuICAgIHJldHVybiB0aGlzLl9kb1JlcXVlc3QoKTtcclxuICB9XHJcblxyXG4gIHBhdGNoKCkge1xyXG4gICAgdGhpcy5fc2V0TWV0aG9kKFwiUEFUQ0hcIik7XHJcbiAgICByZXR1cm4gdGhpcy5fZG9SZXF1ZXN0KCk7XHJcbiAgfVxyXG5cclxuICBkZWxldGUoKSB7XHJcbiAgICB0aGlzLl9zZXRNZXRob2QoXCJERUxFVEVcIik7XHJcbiAgICByZXR1cm4gdGhpcy5fZG9SZXF1ZXN0KCk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBBcGk7XHJcbiIsImltcG9ydCB7IGFwaUNvbmZpZyB9IGZyb20gXCIuL2NvbmZpZy5qc1wiO1xyXG5pbXBvcnQgQXBpIGZyb20gXCIuLi9jb21wb25lbnRzL0FwaS5qc1wiO1xyXG5cclxuY29uc3QgZ2V0VXNlckluZm8gPSAoKSA9PiB7XHJcbiAgcmV0dXJuIGFwaVJlcXVlc3RzSGFuZGxlcihcclxuICAgIGFwaUNvbmZpZy5iYXNlVXJsLFxyXG4gICAgYXBpQ29uZmlnLnVzZXJJbmZvUmVzb3VyY2UsXHJcbiAgICBhcGlDb25maWcuZ2V0TWV0aG9kXHJcbiAgKTtcclxufTtcclxuXHJcbmNvbnN0IGdldENhcmRzID0gKCkgPT4ge1xyXG4gIHJldHVybiBhcGlSZXF1ZXN0c0hhbmRsZXIoXHJcbiAgICBhcGlDb25maWcuYmFzZVVybCxcclxuICAgIGFwaUNvbmZpZy5jYXJkUmVzb3VyY2UsXHJcbiAgICBhcGlDb25maWcuZ2V0TWV0aG9kXHJcbiAgKTtcclxufTtcclxuXHJcbmNvbnN0IGFkZENhcmQgPSAoeyBuYW1lLCBsaW5rIH0pID0+IHtcclxuICByZXR1cm4gYXBpUmVxdWVzdHNIYW5kbGVyKFxyXG4gICAgYXBpQ29uZmlnLmJhc2VVcmwsXHJcbiAgICBhcGlDb25maWcuY2FyZFJlc291cmNlLFxyXG4gICAgYXBpQ29uZmlnLnBvc3RNZXRob2QsXHJcbiAgICB7XHJcbiAgICAgIG5hbWUsXHJcbiAgICAgIGxpbmssXHJcbiAgICB9XHJcbiAgKVxyXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgIH0pO1xyXG59O1xyXG5cclxuY29uc3QgZGVsZXRlQ2FyZCA9IChjYXJkSWQpID0+IHtcclxuICByZXR1cm4gYXBpUmVxdWVzdHNIYW5kbGVyKFxyXG4gICAgYXBpQ29uZmlnLmJhc2VVcmwsXHJcbiAgICBgJHthcGlDb25maWcuY2FyZFJlc291cmNlfS8ke2NhcmRJZH1gLFxyXG4gICAgYXBpQ29uZmlnLmRlbGV0ZU1ldGhvZFxyXG4gICk7XHJcbn07XHJcblxyXG5jb25zdCBlZGl0QXZhdGFyID0gKGltYWdlVXJsKSA9PiB7XHJcbiAgcmV0dXJuIGFwaVJlcXVlc3RzSGFuZGxlcihcclxuICAgIGFwaUNvbmZpZy5iYXNlVXJsLFxyXG4gICAgYXBpQ29uZmlnLmF2YXRhclJlc291cmNlLFxyXG4gICAgYXBpQ29uZmlnLnBhdGNoTWV0aG9kLFxyXG4gICAge1xyXG4gICAgICBhdmF0YXI6IGltYWdlVXJsLFxyXG4gICAgfVxyXG4gIClcclxuICAgIC50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICB9KTtcclxufTtcclxuXHJcbmNvbnN0IGVkaXRVc2VySW5mbyA9IChuYW1lLCBhYm91dCkgPT4ge1xyXG4gIHJldHVybiBhcGlSZXF1ZXN0c0hhbmRsZXIoXHJcbiAgICBhcGlDb25maWcuYmFzZVVybCxcclxuICAgIGFwaUNvbmZpZy51c2VySW5mb1Jlc291cmNlLFxyXG4gICAgYXBpQ29uZmlnLnBhdGNoTWV0aG9kLFxyXG4gICAge1xyXG4gICAgICBuYW1lLFxyXG4gICAgICBhYm91dCxcclxuICAgIH1cclxuICApXHJcbiAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICByZXR1cm4gZGF0YTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG5jb25zdCBhcGlSZXF1ZXN0c0hhbmRsZXIgPSAoYmFzZVVybCwgcmVzb3VyY2UsIG1ldGhvZCwgYm9keSkgPT4ge1xyXG4gIGNvbnN0IGFwaSA9IG5ldyBBcGkoe1xyXG4gICAgYmFzZVVybDogYCR7YmFzZVVybH0ke3Jlc291cmNlfWAsXHJcbiAgICBoZWFkZXJzOiB7XHJcbiAgICAgIGF1dGhvcml6YXRpb246IGAke2FwaUNvbmZpZy50b2tlbn1gLFxyXG4gICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgIH0sXHJcbiAgICBib2R5LFxyXG4gIH0pO1xyXG5cclxuICBjb25zdCBhcGlNZXRob2RzID0ge1xyXG4gICAgR0VUOiBhcGkuZ2V0LFxyXG4gICAgUE9TVDogYXBpLnBvc3QsXHJcbiAgICBQQVRDSDogYXBpLnBhdGNoLFxyXG4gICAgREVMRVRFOiBhcGkuZGVsZXRlLFxyXG4gIH07XHJcblxyXG4gIHJldHVybiBhcGlNZXRob2RzW21ldGhvZF0oKTtcclxufTtcclxuXHJcbmV4cG9ydCB7IGdldFVzZXJJbmZvLCBnZXRDYXJkcywgYWRkQ2FyZCwgZGVsZXRlQ2FyZCwgZWRpdEF2YXRhciwgZWRpdFVzZXJJbmZvIH07XHJcbiIsImltcG9ydCB7IHNlY3Rpb25Db25maWcgfSBmcm9tIFwiLi4vaGVscGVycy9jb25maWcuanNcIjtcclxuXHJcbmNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgIHRoaXMuX2NvbnRhaW5lclNlbGVjdG9yID0gY29udGFpbmVyU2VsZWN0b3I7XHJcbiAgfVxyXG5cclxuICByZW5kZXJlcigpIHtcclxuICAgIHRoaXMuX2l0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFkZEl0ZW0oZWxlbWVudCwgdHlwZSA9IHNlY3Rpb25Db25maWcuYWRkaXRpb25UeXBlQXBwZW5kKSB7XHJcbiAgICB0eXBlID09PSBzZWN0aW9uQ29uZmlnLmFkZGl0aW9uVHlwZUFwcGVuZFxyXG4gICAgICA/IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fY29udGFpbmVyU2VsZWN0b3IpLmFwcGVuZChlbGVtZW50KVxyXG4gICAgICA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fY29udGFpbmVyU2VsZWN0b3IpLnByZXBlbmQoZWxlbWVudCk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTZWN0aW9uO1xyXG4iLCJjbGFzcyBBdmF0YXIge1xyXG4gIGNvbnN0cnVjdG9yKGF2YXRhclNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9hdmF0YXJTZWxlY3RvciA9IGF2YXRhclNlbGVjdG9yO1xyXG4gIH1cclxuXHJcbiAgX2dldEF2YXRhckNvbnRhaW5lcigpIHtcclxuICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX2F2YXRhclNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIGdldEF2YXRhckltYWdlVXJsKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2dldEF2YXRhckNvbnRhaW5lcigpLmdldEF0dHJpYnV0ZShcInNyY1wiKTtcclxuICB9XHJcblxyXG4gIHNldEF2YXRhckltYWdlVXJsKGltYWdlVXJsKSB7XHJcbiAgICB0aGlzLl9nZXRBdmF0YXJDb250YWluZXIoKS5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgaW1hZ2VVcmwpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQXZhdGFyO1xyXG4iLCJjbGFzcyBVc2VySW5mbyB7XHJcbiAgY29uc3RydWN0b3IodXNlck5hbWVTZWxlY3RvciwgdXNlckpvYlNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl91c2VyTmFtZVNlbGVjdG9yID0gdXNlck5hbWVTZWxlY3RvcjtcclxuICAgIHRoaXMuX3VzZXJKb2JTZWxlY3RvciA9IHVzZXJKb2JTZWxlY3RvcjtcclxuICB9XHJcblxyXG4gIF9nZXRVc2VyTmFtZUNvbnRhaW5lcigpIHtcclxuICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX3VzZXJOYW1lU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgX2dldFVzZXJOYW1lKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2dldFVzZXJOYW1lQ29udGFpbmVyKCkudGV4dENvbnRlbnQ7XHJcbiAgfVxyXG5cclxuICBfZ2V0VXNlckpvYkNvbnRhaW5lcigpIHtcclxuICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX3VzZXJKb2JTZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICBfZ2V0VXNlckpvYigpIHtcclxuICAgIHJldHVybiB0aGlzLl9nZXRVc2VySm9iQ29udGFpbmVyKCkudGV4dENvbnRlbnQ7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIGNvbnN0IHVzZXJJbmZvID0ge1xyXG4gICAgICB1c2VyTmFtZTogdGhpcy5fZ2V0VXNlck5hbWUoKSxcclxuICAgICAgdXNlckpvYjogdGhpcy5fZ2V0VXNlckpvYigpLFxyXG4gICAgfTtcclxuICAgIHJldHVybiB1c2VySW5mbztcclxuICB9XHJcblxyXG4gIHNldFVzZXJJbmZvKHVzZXJOYW1lLCB1c2VySm9iKSB7XHJcbiAgICB0aGlzLl9nZXRVc2VyTmFtZUNvbnRhaW5lcigpLnRleHRDb250ZW50ID0gdXNlck5hbWU7XHJcbiAgICB0aGlzLl9nZXRVc2VySm9iQ29udGFpbmVyKCkudGV4dENvbnRlbnQgPSB1c2VySm9iO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgVXNlckluZm87XHJcbiIsImltcG9ydCB7IGNyZWF0ZVBvcHVwV2l0aEltYWdlLCBjcmVhdGVDYXJkIH0gZnJvbSBcIi4vdXRpbHMuanNcIjtcclxuaW1wb3J0IHsgZ2xvYmFsQ29uZmlnLCBzZWN0aW9uQ29uZmlnIH0gZnJvbSBcIi4vY29uZmlnLmpzXCI7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcclxuaW1wb3J0IEF2YXRhciBmcm9tIFwiLi4vY29tcG9uZW50cy9BdmF0YXIuanNcIjtcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XHJcblxyXG5jb25zdCByZW5kZXJBdmF0YXIgPSAoaW1hZ2VVcmwpID0+IHtcclxuICBjb25zdCBhdmF0YXIgPSBuZXcgQXZhdGFyKGdsb2JhbENvbmZpZy5wcm9maWxlQXZhdGFyU2VsZWN0b3IpO1xyXG4gIGF2YXRhci5zZXRBdmF0YXJJbWFnZVVybChpbWFnZVVybCk7XHJcbn07XHJcblxyXG5jb25zdCByZW5kZXJVc2VySW5mbyA9IChuYW1lLCBhYm91dCkgPT4ge1xyXG4gIGNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKFxyXG4gICAgZ2xvYmFsQ29uZmlnLnByb2ZpbGVOYW1lU2VsZWN0b3IsXHJcbiAgICBnbG9iYWxDb25maWcucHJvZmlsZU9jY3VwYXRpb25TZWxlY3RvclxyXG4gICk7XHJcbiAgdXNlckluZm8uc2V0VXNlckluZm8obmFtZSwgYWJvdXQpO1xyXG59O1xyXG5cclxuY29uc3QgcmVuZGVyQ2FyZHMgPSAoXHJcbiAgY2FyZHMsXHJcbiAgZGVsZXRlSGFuZGxlcixcclxuICBhcHBlbmRUeXBlID0gc2VjdGlvbkNvbmZpZy5hZGRpdGlvblR5cGVQcmVwZW5kXHJcbikgPT4ge1xyXG4gIGNvbnN0IGNhcmRzU2VjdGlvbiA9IG5ldyBTZWN0aW9uKFxyXG4gICAge1xyXG4gICAgICBpdGVtczogY2FyZHMsXHJcbiAgICAgIHJlbmRlcmVyOiAoY2FyZCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGNhcmRQb3B1cCA9IGNyZWF0ZVBvcHVwV2l0aEltYWdlKGNhcmQubGluaywgY2FyZC5uYW1lKTtcclxuICAgICAgICBjb25zdCBjYXJkRWxlbWVudCA9IGNyZWF0ZUNhcmQoXHJcbiAgICAgICAgICBjYXJkLl9pZCxcclxuICAgICAgICAgIGNhcmQubmFtZSxcclxuICAgICAgICAgIGNhcmQubGluayxcclxuICAgICAgICAgIGNhcmRQb3B1cC5vcGVuLFxyXG4gICAgICAgICAgZGVsZXRlSGFuZGxlclxyXG4gICAgICAgICk7XHJcbiAgICAgICAgY2FyZHNTZWN0aW9uLmFkZEl0ZW0oY2FyZEVsZW1lbnQsIGFwcGVuZFR5cGUpO1xyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICAgIGdsb2JhbENvbmZpZy5jYXJkc0NvbnRhaW5lclNlbGVjdG9yXHJcbiAgKTtcclxuICBjYXJkc1NlY3Rpb24ucmVuZGVyZXIoKTtcclxufTtcclxuXHJcbmV4cG9ydCB7IHJlbmRlckF2YXRhciwgcmVuZGVyVXNlckluZm8sIHJlbmRlckNhcmRzIH07XHJcbiIsImltcG9ydCB7IHBhZ2UgfSBmcm9tIFwiLi4vaGVscGVycy9jb25zdGFudHMuanNcIjtcclxuaW1wb3J0IHsgZm9ybUNvbmZpZyB9IGZyb20gXCIuLi9oZWxwZXJzL2NvbmZpZy5qc1wiO1xyXG5cclxuY2xhc3MgRm9ybSB7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBmb3JtVGl0bGUsXHJcbiAgICBidXR0b25MYWJlbCxcclxuICAgIGlucHV0U2V0TGlzdCA9IG51bGwsXHJcbiAgICBjb25maWcgPSBmb3JtQ29uZmlnXHJcbiAgKSB7XHJcbiAgICB0aGlzLl9jb25maWcgPSBjb25maWc7XHJcbiAgICB0aGlzLl9mb3JtVGl0bGUgPSBmb3JtVGl0bGU7XHJcbiAgICB0aGlzLl9idXR0b25MYWJlbCA9IGJ1dHRvbkxhYmVsO1xyXG4gICAgdGhpcy5faW5wdXRTZXRMaXN0ID0gaW5wdXRTZXRMaXN0O1xyXG4gICAgdGhpcy5fZm9ybSA9IG51bGw7XHJcbiAgfVxyXG5cclxuICBfZ2V0VGVtcGxhdGUoKSB7XHJcbiAgICByZXR1cm4gcGFnZS5xdWVyeVNlbGVjdG9yKHRoaXMuX2NvbmZpZy5mb3JtVGVtcGxhdGVTZWxlY3RvcikuY2xvbmVOb2RlKHRydWUpXHJcbiAgICAgIC5jb250ZW50O1xyXG4gIH1cclxuXHJcbiAgX2dldElucHV0c0FyZWEoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKHRoaXMuX2NvbmZpZy5mb3JtSW5wdXRzQXJlYVNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIF9zZXRUaXRsZSh0aXRsZSkge1xyXG4gICAgdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKHRoaXMuX2NvbmZpZy5mb3JtVGl0bGVTZWxlY3RvcikudGV4dENvbnRlbnQgPVxyXG4gICAgICB0aXRsZTtcclxuICB9XHJcblxyXG4gIF9zZXRCdXR0b25MYWJlbChsYWJlbCkge1xyXG4gICAgdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKHRoaXMuX2NvbmZpZy5mb3JtQnV0dG9uU2VsZWN0b3IpLnRleHRDb250ZW50ID1cclxuICAgICAgbGFiZWw7XHJcbiAgfVxyXG5cclxuICBfc2V0SW5wdXRzKGlucHV0U2V0TGlzdCkge1xyXG4gICAgaW5wdXRTZXRMaXN0LmZvckVhY2goKGlucHV0U2V0KSA9PiB7XHJcbiAgICAgIHRoaXMuX2dldElucHV0c0FyZWEoKS5hcHBlbmQoaW5wdXRTZXQpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBidWlsZEZvcm0oKSB7XHJcbiAgICB0aGlzLl9mb3JtID0gdGhpcy5fZ2V0VGVtcGxhdGUoKS5xdWVyeVNlbGVjdG9yKHRoaXMuX2NvbmZpZy5mb3JtU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fc2V0VGl0bGUodGhpcy5fZm9ybVRpdGxlKTtcclxuICAgIHRoaXMuX3NldEJ1dHRvbkxhYmVsKHRoaXMuX2J1dHRvbkxhYmVsKTtcclxuICAgIGlmICh0aGlzLl9pbnB1dFNldExpc3QpIHtcclxuICAgICAgdGhpcy5fc2V0SW5wdXRzKHRoaXMuX2lucHV0U2V0TGlzdCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGhpcy5fZm9ybTtcclxuICB9XHJcbn1cclxuZXhwb3J0IGRlZmF1bHQgRm9ybTtcclxuIiwiaW1wb3J0IHsgcGFnZSB9IGZyb20gXCIuLi9oZWxwZXJzL2NvbnN0YW50cy5qc1wiO1xyXG5pbXBvcnQgeyBpbnB1dFNldENvbmZpZyB9IGZyb20gXCIuLi9oZWxwZXJzL2NvbmZpZy5qc1wiO1xyXG5cclxuY2xhc3MgSW5wdXRTZXQge1xyXG4gIGNvbnN0cnVjdG9yKGRhdGEsIGNvbmZpZyA9IGlucHV0U2V0Q29uZmlnKSB7XHJcbiAgICB0aGlzLl90eXBlID0gZGF0YS50eXBlO1xyXG4gICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcclxuICAgIHRoaXMuX3BsYWNlaG9sZGVyID0gZGF0YS5wbGFjZWhvbGRlcjtcclxuICAgIHRoaXMuX2lzUmVxdWlyZWQgPSBkYXRhLmlzUmVxdWlyZWQ7XHJcbiAgICB0aGlzLl9tYXhsZW5ndGggPSBkYXRhLm1heGxlbmd0aDtcclxuICAgIHRoaXMuX21pbmxlbmd0aCA9IGRhdGEubWlubGVuZ3RoO1xyXG4gICAgdGhpcy5fY29uZmlnID0gY29uZmlnO1xyXG4gICAgdGhpcy5faW5wdXRTZXQgPSBudWxsO1xyXG4gICAgdGhpcy5faW5wdXQgPSBudWxsO1xyXG4gIH1cclxuXHJcbiAgX2dldFRlbXBsYXRlKCkge1xyXG4gICAgcmV0dXJuIHBhZ2VcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY29uZmlnLmlucHV0VGVtcGxhdGVTZWxlY3RvcilcclxuICAgICAgLmNsb25lTm9kZSh0cnVlKS5jb250ZW50O1xyXG4gIH1cclxuXHJcbiAgX21hcElucHV0QXR0cmlidXRlcygpIHtcclxuICAgIHRoaXMuX2lucHV0LnNldEF0dHJpYnV0ZShcInR5cGVcIiwgdGhpcy5fdHlwZSk7XHJcbiAgICB0aGlzLl9pbnB1dC5zZXRBdHRyaWJ1dGUoXCJuYW1lXCIsIHRoaXMuX25hbWUpO1xyXG4gICAgdGhpcy5faW5wdXQuc2V0QXR0cmlidXRlKFwicGxhY2Vob2xkZXJcIiwgdGhpcy5fcGxhY2Vob2xkZXIpO1xyXG4gICAgdGhpcy5faW5wdXQuc2V0QXR0cmlidXRlKFwibWF4bGVuZ3RoXCIsIHRoaXMuX21heGxlbmd0aCk7XHJcbiAgICB0aGlzLl9pbnB1dC5zZXRBdHRyaWJ1dGUoXCJtaW5sZW5ndGhcIiwgdGhpcy5fbWlubGVuZ3RoKTtcclxuICAgIHRoaXMuX2lucHV0LnNldEF0dHJpYnV0ZShcInJlcXVpcmVkXCIsIHRoaXMuX2lzUmVxdWlyZWQpO1xyXG4gIH1cclxuXHJcbiAgc2V0SW5wdXRWYWx1ZSh2YWx1ZSkge1xyXG4gICAgdGhpcy5faW5wdXQudmFsdWUgPSB2YWx1ZTtcclxuICB9XHJcblxyXG4gIGlucHV0Rm9jdXMoKSB7XHJcbiAgICB0aGlzLl9pbnB1dC5mb2N1cygpO1xyXG4gICAgdGhpcy5faW5wdXQuc2VsZWN0KCk7XHJcbiAgfVxyXG5cclxuICBidWlsZEZvcm1JbnB1dFNldCgpIHtcclxuICAgIHRoaXMuX2lucHV0U2V0ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKS5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICB0aGlzLl9jb25maWcuaW5wdXRTZXRTZWxlY3RvclxyXG4gICAgKTtcclxuICAgIHRoaXMuX2lucHV0ID0gdGhpcy5faW5wdXRTZXQucXVlcnlTZWxlY3Rvcih0aGlzLl9jb25maWcuaW5wdXRTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9tYXBJbnB1dEF0dHJpYnV0ZXMoKTtcclxuICAgIHJldHVybiB0aGlzLl9pbnB1dFNldDtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IElucHV0U2V0O1xyXG4iLCJpbXBvcnQge1xyXG4gIGVuYWJsZUZvcm1WYWxpZGF0aW9uT24sXHJcbiAgY3JlYXRlUG9wdXBXaXRoRm9ybSxcclxuICByZW1vdmVIVE1MRWxlbWVudCxcclxufSBmcm9tIFwiLi91dGlscy5qc1wiO1xyXG5pbXBvcnQge1xyXG4gIGNyZWF0ZUVkaXRBdmF0YXJGb3JtLFxyXG4gIGNyZWF0ZUVkaXRQcm9maWxlRm9ybSxcclxuICBjcmVhdGVBZGRDYXJkRm9ybSxcclxuICBjcmVhdGVEZWxldGVDYXJkRm9ybSxcclxufSBmcm9tIFwiLi9mb3Jtcy5qc1wiO1xyXG5pbXBvcnQgeyByZW5kZXJBdmF0YXIsIHJlbmRlclVzZXJJbmZvLCByZW5kZXJDYXJkcyB9IGZyb20gXCIuL3JlbmRlcnMuanNcIjtcclxuaW1wb3J0IHsgYWRkQ2FyZCwgZGVsZXRlQ2FyZCwgZWRpdEF2YXRhciwgZWRpdFVzZXJJbmZvIH0gZnJvbSBcIi4vcmVxdWVzdHMuanNcIjtcclxuXHJcbmNvbnN0IGhhbmRsZUVkaXRBdmF0YXJCdXR0b25DbGljayA9ICgpID0+IHtcclxuICBjb25zdCBlZGl0QXZhdGFyRm9ybSA9IGNyZWF0ZUVkaXRBdmF0YXJGb3JtKCk7XHJcbiAgZW5hYmxlRm9ybVZhbGlkYXRpb25PbihlZGl0QXZhdGFyRm9ybSk7XHJcbiAgY29uc3QgZm9ybVBvcHVwID0gY3JlYXRlUG9wdXBXaXRoRm9ybShlZGl0QXZhdGFyRm9ybSwgaGFuZGxlQXZhdGFyRWRpdFN1Ym1pdCk7XHJcbiAgZm9ybVBvcHVwLm9wZW4oKTtcclxufTtcclxuXHJcbmNvbnN0IGhhbmRsZUVkaXRQcm9maWxlQnV0dG9uQ2xpY2sgPSAoKSA9PiB7XHJcbiAgY29uc3QgZWRpdFByb2ZpbGVGb3JtID0gY3JlYXRlRWRpdFByb2ZpbGVGb3JtKCk7XHJcbiAgZW5hYmxlRm9ybVZhbGlkYXRpb25PbihlZGl0UHJvZmlsZUZvcm0pO1xyXG4gIGNvbnN0IGZvcm1Qb3B1cCA9IGNyZWF0ZVBvcHVwV2l0aEZvcm0oXHJcbiAgICBlZGl0UHJvZmlsZUZvcm0sXHJcbiAgICBoYW5kbGVQcm9maWxlRWRpdFN1Ym1pdFxyXG4gICk7XHJcbiAgZm9ybVBvcHVwLm9wZW4oKTtcclxufTtcclxuXHJcbmNvbnN0IGhhbmRsZUFkZENhcmRCdXR0b25DbGljayA9ICgpID0+IHtcclxuICBjb25zdCBhZGRDYXJkRm9ybSA9IGNyZWF0ZUFkZENhcmRGb3JtKCk7XHJcbiAgZW5hYmxlRm9ybVZhbGlkYXRpb25PbihhZGRDYXJkRm9ybSk7XHJcbiAgY29uc3QgZm9ybVBvcHVwID0gY3JlYXRlUG9wdXBXaXRoRm9ybShhZGRDYXJkRm9ybSwgaGFuZGxlQWRkQ2FyZEZvcm1TdWJtaXQpO1xyXG4gIGZvcm1Qb3B1cC5vcGVuKCk7XHJcbn07XHJcblxyXG5jb25zdCBoYW5kbGVBdmF0YXJFZGl0U3VibWl0ID0gKGV2dCkgPT4ge1xyXG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIGNvbnN0IHRhcmdldEZvcm0gPSBldnQudGFyZ2V0O1xyXG4gIGVkaXRBdmF0YXIodGFyZ2V0Rm9ybS5hdmF0YXJVcmwudmFsdWUpLnRoZW4oKGRhdGEpID0+IHtcclxuICAgIHJlbmRlckF2YXRhcihkYXRhLmF2YXRhcik7XHJcbiAgfSk7XHJcbn07XHJcblxyXG5jb25zdCBoYW5kbGVQcm9maWxlRWRpdFN1Ym1pdCA9IChldnQpID0+IHtcclxuICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICBjb25zdCB0YXJnZXRGb3JtID0gZXZ0LnRhcmdldDtcclxuICBlZGl0VXNlckluZm8odGFyZ2V0Rm9ybS5uYW1lLnZhbHVlLCB0YXJnZXRGb3JtLmFib3V0TWUudmFsdWUpLnRoZW4oKGRhdGEpID0+IHtcclxuICAgIHJlbmRlclVzZXJJbmZvKGRhdGEubmFtZSwgZGF0YS5hYm91dCk7XHJcbiAgfSk7XHJcbn07XHJcblxyXG5jb25zdCBoYW5kbGVBZGRDYXJkRm9ybVN1Ym1pdCA9IChldnQpID0+IHtcclxuICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICBjb25zdCB0YXJnZXRGb3JtID0gZXZ0LnRhcmdldDtcclxuICBjb25zdCBjYXJkSW5mbyA9IHtcclxuICAgIGxpbms6IHRhcmdldEZvcm0uaW1hZ2VVcmwudmFsdWUsXHJcbiAgICBuYW1lOiB0YXJnZXRGb3JtLnRpdGxlLnZhbHVlLFxyXG4gIH07XHJcbiAgYWRkQ2FyZChjYXJkSW5mbykudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgcmVuZGVyQ2FyZHMoW2RhdGFdLCBoYW5kbGVEZWxldGVDYXJkQnV0dG9uQ2xpY2spO1xyXG4gIH0pO1xyXG59O1xyXG5cclxuY29uc3QgaGFuZGxlRGVsZXRlQ2FyZEJ1dHRvbkNsaWNrID0gKGV2dCkgPT4ge1xyXG4gIGNvbnN0IGNhcmQgPSBldnQudGFyZ2V0LmNsb3Nlc3QoXCIuZGVzdGluYXRpb25zX19pdGVtXCIpO1xyXG4gIGNvbnN0IGNhcmRJZCA9IGNhcmQuaWQucmVwbGFjZSgvXmlkXy8sIFwiXCIpO1xyXG4gIGNvbnN0IGRlbGV0ZUNhcmRGb3JtID0gY3JlYXRlRGVsZXRlQ2FyZEZvcm0oKTtcclxuICBjb25zdCBmb3JtUG9wdXAgPSBjcmVhdGVQb3B1cFdpdGhGb3JtKGRlbGV0ZUNhcmRGb3JtLCAoZXZ0KSA9PiB7XHJcbiAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIGRlbGV0ZUNhcmQoY2FyZElkKS50aGVuKCgpID0+IHtcclxuICAgICAgcmVtb3ZlSFRNTEVsZW1lbnQoY2FyZCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuICBmb3JtUG9wdXAub3BlbigpO1xyXG59O1xyXG5cclxuZXhwb3J0IHtcclxuICBoYW5kbGVFZGl0QXZhdGFyQnV0dG9uQ2xpY2ssXHJcbiAgaGFuZGxlRWRpdFByb2ZpbGVCdXR0b25DbGljayxcclxuICBoYW5kbGVBZGRDYXJkQnV0dG9uQ2xpY2ssXHJcbiAgaGFuZGxlRGVsZXRlQ2FyZEJ1dHRvbkNsaWNrLFxyXG59O1xyXG4iLCJpbXBvcnQgRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtLmpzXCI7XHJcbmltcG9ydCBJbnB1dFNldCBmcm9tIFwiLi4vY29tcG9uZW50cy9JbnB1dFNldC5qc1wiO1xyXG5pbXBvcnQgQXZhdGFyIGZyb20gXCIuLi9jb21wb25lbnRzL0F2YXRhci5qc1wiO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcclxuaW1wb3J0IHsgZ2xvYmFsQ29uZmlnIH0gZnJvbSBcIi4vY29uZmlnLmpzXCI7XHJcbmltcG9ydCB7XHJcbiAgaW5wdXRTZXRBdmF0YXJEYXRhLFxyXG4gIGlucHV0U2V0QWJvdXRNZURhdGEsXHJcbiAgaW5wdXRTZXRJbWFnZVVybERhdGEsXHJcbiAgaW5wdXRTZXROYW1lRGF0YSxcclxuICBpbnB1dFNldFRpdGxlRGF0YSxcclxufSBmcm9tIFwiLi9jb25zdGFudHMuanNcIjtcclxuXHJcbmNvbnN0IGNyZWF0ZUVkaXRBdmF0YXJGb3JtID0gKCkgPT4ge1xyXG4gIGNvbnN0IGlucHV0U2V0cyA9IFtdO1xyXG4gIGNvbnN0IGlucHV0U2V0QXZhdGFyU3JjID0gbmV3IElucHV0U2V0KGlucHV0U2V0QXZhdGFyRGF0YSk7XHJcbiAgaW5wdXRTZXRzLnB1c2goaW5wdXRTZXRBdmF0YXJTcmMuYnVpbGRGb3JtSW5wdXRTZXQoKSk7XHJcbiAgY29uc3QgYXZhdGFyID0gbmV3IEF2YXRhcihnbG9iYWxDb25maWcucHJvZmlsZUF2YXRhclNlbGVjdG9yKTtcclxuICBpbnB1dFNldEF2YXRhclNyYy5zZXRJbnB1dFZhbHVlKGF2YXRhci5nZXRBdmF0YXJJbWFnZVVybCgpKTtcclxuICBjb25zdCBuZXdGb3JtID0gbmV3IEZvcm0oXCJDYW1iaWFyIGZvdG8gZGUgcGVyZmlsXCIsIFwiR3VhcmRhclwiLCBpbnB1dFNldHMpO1xyXG4gIHJldHVybiBuZXdGb3JtLmJ1aWxkRm9ybSgpO1xyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlRWRpdFByb2ZpbGVGb3JtID0gKCkgPT4ge1xyXG4gIGNvbnN0IGlucHV0U2V0cyA9IFtdO1xyXG4gIGNvbnN0IGlucHV0U2V0TmFtZSA9IG5ldyBJbnB1dFNldChpbnB1dFNldE5hbWVEYXRhKTtcclxuICBjb25zdCBpbnB1dFNldEFib3V0TWUgPSBuZXcgSW5wdXRTZXQoaW5wdXRTZXRBYm91dE1lRGF0YSk7XHJcbiAgaW5wdXRTZXRzLnB1c2goXHJcbiAgICBpbnB1dFNldE5hbWUuYnVpbGRGb3JtSW5wdXRTZXQoKSxcclxuICAgIGlucHV0U2V0QWJvdXRNZS5idWlsZEZvcm1JbnB1dFNldCgpXHJcbiAgKTtcclxuICBjb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyhcclxuICAgIGdsb2JhbENvbmZpZy5wcm9maWxlTmFtZVNlbGVjdG9yLFxyXG4gICAgZ2xvYmFsQ29uZmlnLnByb2ZpbGVPY2N1cGF0aW9uU2VsZWN0b3JcclxuICApO1xyXG4gIGlucHV0U2V0TmFtZS5zZXRJbnB1dFZhbHVlKHVzZXJJbmZvLmdldFVzZXJJbmZvKCkudXNlck5hbWUpO1xyXG4gIGlucHV0U2V0QWJvdXRNZS5zZXRJbnB1dFZhbHVlKHVzZXJJbmZvLmdldFVzZXJJbmZvKCkudXNlckpvYik7XHJcbiAgY29uc3QgbmV3Rm9ybSA9IG5ldyBGb3JtKFwiRWRpdGFyIFBlcmZpbFwiLCBcIkd1YXJkYXJcIiwgaW5wdXRTZXRzKTtcclxuXHJcbiAgcmV0dXJuIG5ld0Zvcm0uYnVpbGRGb3JtKCk7XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVBZGRDYXJkRm9ybSA9ICgpID0+IHtcclxuICBjb25zdCBpbnB1dFNldHMgPSBbXTtcclxuICBjb25zdCBpbnB1dFNldFRpdGxlID0gbmV3IElucHV0U2V0KGlucHV0U2V0VGl0bGVEYXRhKTtcclxuICBjb25zdCBpbnB1dFNldEltYWdlVXJsID0gbmV3IElucHV0U2V0KGlucHV0U2V0SW1hZ2VVcmxEYXRhKTtcclxuICBpbnB1dFNldHMucHVzaChcclxuICAgIGlucHV0U2V0VGl0bGUuYnVpbGRGb3JtSW5wdXRTZXQoKSxcclxuICAgIGlucHV0U2V0SW1hZ2VVcmwuYnVpbGRGb3JtSW5wdXRTZXQoKVxyXG4gICk7XHJcbiAgY29uc3QgbmV3Q2FyZEZvcm0gPSBuZXcgRm9ybShcIk51ZXZvIEx1Z2FyXCIsIFwiR3VhcmRhclwiLCBpbnB1dFNldHMpO1xyXG4gIHJldHVybiBuZXdDYXJkRm9ybS5idWlsZEZvcm0oKTtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZURlbGV0ZUNhcmRGb3JtID0gKCkgPT4ge1xyXG4gIGNvbnN0IG5ld0NhcmREZWxldGVGb3JtID0gbmV3IEZvcm0oXCLCv0VzdMOhcyBzZWd1cm8/XCIsIFwiU8OtXCIpO1xyXG4gIHJldHVybiBuZXdDYXJkRGVsZXRlRm9ybS5idWlsZEZvcm0oKTtcclxufTtcclxuXHJcbmV4cG9ydCB7XHJcbiAgY3JlYXRlRWRpdEF2YXRhckZvcm0sXHJcbiAgY3JlYXRlRWRpdFByb2ZpbGVGb3JtLFxyXG4gIGNyZWF0ZUFkZENhcmRGb3JtLFxyXG4gIGNyZWF0ZURlbGV0ZUNhcmRGb3JtLFxyXG59O1xyXG4iLCJpbXBvcnQgXCIuL3BhZ2VzL2luZGV4LmNzc1wiO1xyXG5pbXBvcnQgeyBzZXRQYWdlQnV0dG9uSGFuZGxlciB9IGZyb20gXCIuL3NjcmlwdHMvaGVscGVycy91dGlscy5qc1wiO1xyXG5pbXBvcnQgeyBnZXRVc2VySW5mbywgZ2V0Q2FyZHMgfSBmcm9tIFwiLi9zY3JpcHRzL2hlbHBlcnMvcmVxdWVzdHMuanNcIjtcclxuaW1wb3J0IHsgZ2xvYmFsQ29uZmlnLCBzZWN0aW9uQ29uZmlnIH0gZnJvbSBcIi4vc2NyaXB0cy9oZWxwZXJzL2NvbmZpZy5qc1wiO1xyXG5pbXBvcnQge1xyXG4gIHJlbmRlclVzZXJJbmZvLFxyXG4gIHJlbmRlckF2YXRhcixcclxuICByZW5kZXJDYXJkcyxcclxufSBmcm9tIFwiLi9zY3JpcHRzL2hlbHBlcnMvcmVuZGVycy5qc1wiO1xyXG5pbXBvcnQge1xyXG4gIGhhbmRsZUVkaXRBdmF0YXJCdXR0b25DbGljayxcclxuICBoYW5kbGVFZGl0UHJvZmlsZUJ1dHRvbkNsaWNrLFxyXG4gIGhhbmRsZUFkZENhcmRCdXR0b25DbGljayxcclxuICBoYW5kbGVEZWxldGVDYXJkQnV0dG9uQ2xpY2ssXHJcbn0gZnJvbSBcIi4vc2NyaXB0cy9oZWxwZXJzL2hhbmRsZXJzLmpzXCI7XHJcblxyXG5nZXRVc2VySW5mbygpXHJcbiAgLnRoZW4oKGRhdGEpID0+IHtcclxuICAgIHJlbmRlclVzZXJJbmZvKGRhdGEubmFtZSwgZGF0YS5hYm91dCk7XHJcbiAgICByZW5kZXJBdmF0YXIoZGF0YS5hdmF0YXIpO1xyXG4gIH0pXHJcbiAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgfSk7XHJcblxyXG5nZXRDYXJkcygpXHJcbiAgLnRoZW4oKGRhdGEpID0+IHtcclxuICAgIHJlbmRlckNhcmRzKFxyXG4gICAgICBkYXRhLFxyXG4gICAgICBoYW5kbGVEZWxldGVDYXJkQnV0dG9uQ2xpY2ssXHJcbiAgICAgIHNlY3Rpb25Db25maWcuYWRkaXRpb25UeXBlQXBwZW5kXHJcbiAgICApO1xyXG4gIH0pXHJcbiAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgfSk7XHJcblxyXG5zZXRQYWdlQnV0dG9uSGFuZGxlcihcclxuICBnbG9iYWxDb25maWcuZWRpdFByb2ZpbGVCdXR0b25TZWxlY3RvcixcclxuICBoYW5kbGVFZGl0UHJvZmlsZUJ1dHRvbkNsaWNrXHJcbik7XHJcblxyXG5zZXRQYWdlQnV0dG9uSGFuZGxlcihcclxuICBnbG9iYWxDb25maWcuYWRkQ2FyZEJ1dHRvblNlbGVjdG9yLFxyXG4gIGhhbmRsZUFkZENhcmRCdXR0b25DbGlja1xyXG4pO1xyXG5cclxuc2V0UGFnZUJ1dHRvbkhhbmRsZXIoXHJcbiAgZ2xvYmFsQ29uZmlnLmVkaXRBdmF0YXJCdXR0b25TZWxlY3RvcixcclxuICBoYW5kbGVFZGl0QXZhdGFyQnV0dG9uQ2xpY2tcclxuKTtcclxuIl0sIm5hbWVzIjpbImNhcmRDb25maWciLCJjYXJkVGVtcGxhdGVTZWxlY3RvciIsImNhcmRTZWxlY3RvciIsImNhcmROYW1lU2VsZWN0b3IiLCJjYXJkSW1hZ2VTZWxlY3RvciIsImxpa2VCdXR0b25TZWxlY3RvciIsImRlbGV0ZUJ1dHRvblNlbGVjdG9yIiwicG9wVXBUZW1wbGF0ZVNlbGVjdG9yIiwicG9wVXBTZWxlY3RvciIsInBvcFVwUGhvdG9TZWxlY3RvciIsInBvcFVwRGVzY1NlbGVjdG9yIiwibm90TGlrZWRCdXR0b25DbGFzcyIsImlzTGlrZWRCdXR0b25DbGFzcyIsInZhbGlkYXRpb25Db25maWciLCJmb3JtU2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsImZvcm1Db25maWciLCJmb3JtVGVtcGxhdGVTZWxlY3RvciIsImZvcm1UaXRsZVNlbGVjdG9yIiwiZm9ybUJ1dHRvblNlbGVjdG9yIiwiZm9ybUlucHV0VGVtcGxhdGVTZWxlY3RvciIsImZvcm1JbnB1dFNldFNlbGVjdG9yIiwiZm9ybUlucHV0U2VsZWN0b3IiLCJmb3JtSW5wdXRzQXJlYVNlbGVjdG9yIiwiaW5wdXRTZXRDb25maWciLCJpbnB1dFRlbXBsYXRlU2VsZWN0b3IiLCJpbnB1dFNldFNlbGVjdG9yIiwicG9wdXBDb25maWciLCJwb3B1cFRlbXBsYXRlU2VsZWN0b3IiLCJwb3B1cFNlbGVjdG9yIiwicG9wdXBDb250ZW50U2VsZWN0b3IiLCJwb3B1cEJhY2tkcm9wU2VsZWN0b3IiLCJwb3B1cENsb3NlQnV0dG9uU2VsZWN0b3IiLCJwb3B1cE1vZGlmaWVyRm9ybUNsYXNzIiwicG9wdXBNb2RpZmllckltYWdlQ2xhc3MiLCJwb3B1cENsb3NlZFN0YXRlQ2xhc3MiLCJwb3B1cE9wZW5lZFN0YXRlQ2xhc3MiLCJwb3B1cENsb3NpbmdUaW1lSW5NcyIsImZvcm1DbGFzcyIsImdsb2JhbENvbmZpZyIsInNlY3Rpb25Db25maWciLCJhcGlDb25maWciLCJwYWdlIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiaW5wdXRTZXRBdmF0YXJEYXRhIiwidHlwZSIsIm5hbWUiLCJwbGFjZWhvbGRlciIsImlzUmVxdWlyZWQiLCJtYXhsZW5ndGgiLCJtaW5sZW5ndGgiLCJpbnB1dFNldE5hbWVEYXRhIiwiaW5wdXRTZXRBYm91dE1lRGF0YSIsImlucHV0U2V0VGl0bGVEYXRhIiwiaW5wdXRTZXRJbWFnZVVybERhdGEiLCJDYXJkIiwiaWQiLCJpbWFnZVVybCIsImhhbmRsZUNhcmRDbGljayIsImhhbmRsZUNhcmREZWxldGUiLCJjb25maWciLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwiX2lkIiwiX25hbWUiLCJfaW1hZ2VVcmwiLCJfY29uZmlnIiwiX2NhcmQiLCJfcG9wVXBDYXJkIiwiX2hhbmRsZUNhcmRDbGljayIsIl9oYW5kbGVDYXJkRGVsZXRlIiwiX2hhbmRsZUxpa2VCdXR0b25DbGljayIsImJpbmQiLCJrZXkiLCJ2YWx1ZSIsImNvbnNvbGUiLCJsb2ciLCJzZXRBdHRyaWJ1dGUiLCJjb25jYXQiLCJ0ZXh0Q29udGVudCIsImFsdCIsImltYWdlIiwiZGVzY3JpcHRpb24iLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2dldEltYWdlIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9nZXRMaWtlQnV0dG9uIiwiX2dldERlbGV0ZUJ1dHRvbiIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJfaXNMaWtlZCIsIl9saWtlIiwiX2Rpc2xpa2UiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJhZGQiLCJjb250YWlucyIsIl90b2dnbGVMaWtlQnV0dG9uIiwiX2dldFRlbXBsYXRlIiwiX3NldENhcmRJZCIsIl9zZXRDYXJkTmFtZSIsIl9zZXRDYXJkSW1hZ2UiLCJfc2V0Q2FyZExpc3RlbmVycyIsIlBvcHVwIiwiX3BvcHVwU2VsZWN0b3IiLCJfcG9wdXAiLCJfaXNDbG9zaW5nIiwiX2hhbmRsZUVzY0Nsb3NlIiwiX2hhbmRsZUNsaWNrQ2xvc2UiLCJfdGhpcyIsInNldFRpbWVvdXQiLCJlbGVtZW50IiwiZXZ0IiwidG9Mb3dlckNhc2UiLCJjbG9zZSIsIl9ldnQka2V5IiwiY29udGVudENsYXNzIiwiX2dldENvbnRlbnRDb250YWluZXIiLCJfaXNPcGVuZWQiLCJfdG9nZ2xlUG9wdXAiLCJwcmVwZW5kIiwiZm9jdXMiLCJfcGxheUNsb3NpbmdBbmltYXRpb24iLCJfY2xvc2VPbkNsaWNrIiwiX2dldE1vZGFsQmFja2Ryb3AiLCJfZ2V0Q2xvc2VCdXR0b24iLCJfY2xvc2VPbkVzY2FwZSIsIl9Qb3B1cCIsIl9pbmhlcml0cyIsIlBvcHVwV2l0aEZvcm0iLCJfc3VwZXIiLCJzdWJtaXRFdmVudEhhbmRsZXIiLCJmb3JtIiwiY2FsbCIsIl9zdWJtaXRFdmVudEhhbmRsZXIiLCJfYXNzZXJ0VGhpc0luaXRpYWxpemVkIiwiX3Bvc3RTdWJtaXRFdmVudEhhbmRsZXIiLCJfZm9ybSIsImlucHV0VmFsdWVzIiwiX2dldCIsIl9nZXRQcm90b3R5cGVPZiIsInByb3RvdHlwZSIsIl9tb2RpZnlDb250ZW50Q29udGFpbmVyIiwiYXBwZW5kIiwicmVzZXQiLCJfc2V0Rm9ybSIsIlBvcHVwV2l0aEltYWdlIiwiX3JlZiIsIl9kZXNjcmlwdGlvbiIsIl9pbWFnZSIsIl9jYXB0aW9uIiwib3BlbiIsIl9nZXRJbWFnZUNvbXBvbmVudCIsIl9pbWFnZUNvbXBvbmVudCIsIl9nZXRJbWFnZVRlbXBsYXRlIiwiX3NldEltYWdlIiwiX3NldENhcHRpb24iLCJfc2V0SW1hZ2VDb21wb25lbnQiLCJGb3JtVmFsaWRhdG9yIiwiX2lucHV0VmFsaWRhdGlvbkhhbmRsZXIiLCJfZm9ybVByZVN1Ym1pdFZhbGlkYXRpb25IYW5kbGVyIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImV2ZXJ5IiwiaW5wdXQiLCJ2YWxpZGl0eSIsInZhbGlkIiwic2F2ZUJ1dHRvbiIsIl9mb3JtSXNWYWxpZCIsInRhcmdldCIsIm5leHRFbGVtZW50U2libGluZyIsInZhbGlkYXRpb25NZXNzYWdlIiwiX3RvZ2dsZUJ1dHRvblN0YXR1cyIsImlzU3VibWl0RXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsIl9nZXRTdWJtaXRCdXR0b24iLCJfc2V0Rm9ybVZhbGlkYXRpb25FdmVudExpc3RlbmVycyIsImVuYWJsZUZvcm1WYWxpZGF0aW9uT24iLCJlbmFibGVWYWxpZGF0aW9uIiwiY3JlYXRlUG9wdXBXaXRoRm9ybSIsInN1Ym1pdEhhbmRsZXIiLCJwb3BVcFdpdGhGb3JtIiwiYnVpbGRQb3B1cCIsInNldEV2ZW50TGlzdGVuZXJzIiwic2V0UGFnZUJ1dHRvbkhhbmRsZXIiLCJidXR0b25TZWxlY3RvciIsImNsaWNrRXZlbnRIYW5kbGVyIiwiQXBpIiwib3B0aW9ucyIsIl9iYXNlVXJsIiwiYmFzZVVybCIsIl9oZWFkZXJzIiwiaGVhZGVycyIsIl9ib2R5IiwiYm9keSIsImdldCIsInBvc3QiLCJwYXRjaCIsImRlbGV0ZSIsIl9idWlsZFJlcXVlc3RPcHRpb25zIiwiX2dldFJlcXVlc3RPcHRpb25zIiwiX3JlcXVlc3RPcHRpb25zIiwibWV0aG9kIiwiX21ldGhvZCIsIkpTT04iLCJzdHJpbmdpZnkiLCJmZXRjaCIsInRoZW4iLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiX3NldE1ldGhvZCIsIl9kb1JlcXVlc3QiLCJhcGlSZXF1ZXN0c0hhbmRsZXIiLCJyZXNvdXJjZSIsImFwaSIsImF1dGhvcml6YXRpb24iLCJHRVQiLCJQT1NUIiwiUEFUQ0giLCJERUxFVEUiLCJTZWN0aW9uIiwiY29udGFpbmVyU2VsZWN0b3IiLCJpdGVtcyIsInJlbmRlcmVyIiwiX2l0ZW1zIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lclNlbGVjdG9yIiwiZm9yRWFjaCIsIml0ZW0iLCJBdmF0YXIiLCJhdmF0YXJTZWxlY3RvciIsIl9hdmF0YXJTZWxlY3RvciIsIl9nZXRBdmF0YXJDb250YWluZXIiLCJnZXRBdHRyaWJ1dGUiLCJVc2VySW5mbyIsInVzZXJOYW1lU2VsZWN0b3IiLCJ1c2VySm9iU2VsZWN0b3IiLCJfdXNlck5hbWVTZWxlY3RvciIsIl91c2VySm9iU2VsZWN0b3IiLCJfZ2V0VXNlck5hbWVDb250YWluZXIiLCJfZ2V0VXNlckpvYkNvbnRhaW5lciIsInVzZXJOYW1lIiwiX2dldFVzZXJOYW1lIiwidXNlckpvYiIsIl9nZXRVc2VySm9iIiwicmVuZGVyQXZhdGFyIiwic2V0QXZhdGFySW1hZ2VVcmwiLCJyZW5kZXJVc2VySW5mbyIsImFib3V0Iiwic2V0VXNlckluZm8iLCJyZW5kZXJDYXJkcyIsImNhcmRzIiwiZGVsZXRlSGFuZGxlciIsImFwcGVuZFR5cGUiLCJjYXJkc1NlY3Rpb24iLCJjYXJkIiwiaW1hZ2VQb3B1cCIsImNhcmRJZCIsImNhcmROYW1lIiwiY2FyZExpbmsiLCJjYXJkQ2xpY2tFdmVudEhhbmRsZXIiLCJjYXJkUG9wdXAiLCJsaW5rIiwiY2FyZEVsZW1lbnQiLCJidWlsZENhcmQiLCJhZGRJdGVtIiwiRm9ybSIsImZvcm1UaXRsZSIsImJ1dHRvbkxhYmVsIiwiaW5wdXRTZXRMaXN0IiwiX2Zvcm1UaXRsZSIsIl9idXR0b25MYWJlbCIsIl9pbnB1dFNldExpc3QiLCJ0aXRsZSIsImxhYmVsIiwiaW5wdXRTZXQiLCJfZ2V0SW5wdXRzQXJlYSIsIl9zZXRUaXRsZSIsIl9zZXRCdXR0b25MYWJlbCIsIl9zZXRJbnB1dHMiLCJJbnB1dFNldCIsImRhdGEiLCJfdHlwZSIsIl9wbGFjZWhvbGRlciIsIl9pc1JlcXVpcmVkIiwiX21heGxlbmd0aCIsIl9taW5sZW5ndGgiLCJfaW5wdXRTZXQiLCJfaW5wdXQiLCJzZWxlY3QiLCJfbWFwSW5wdXRBdHRyaWJ1dGVzIiwiaGFuZGxlQXZhdGFyRWRpdFN1Ym1pdCIsImF2YXRhclVybCIsImF2YXRhciIsImNhdGNoIiwiZXJyIiwiaGFuZGxlUHJvZmlsZUVkaXRTdWJtaXQiLCJ0YXJnZXRGb3JtIiwiYWJvdXRNZSIsImhhbmRsZUFkZENhcmRGb3JtU3VibWl0IiwiaGFuZGxlRGVsZXRlQ2FyZEJ1dHRvbkNsaWNrIiwiY2xvc2VzdCIsInJlcGxhY2UiLCJkZWxldGVDYXJkRm9ybSIsImJ1aWxkRm9ybSIsImZvcm1Qb3B1cCIsImRlbGV0ZUNhcmQiLCJodG1sRWxlbWVudCIsImVkaXRQcm9maWxlRm9ybSIsImlucHV0U2V0cyIsImlucHV0U2V0TmFtZSIsImlucHV0U2V0QWJvdXRNZSIsInB1c2giLCJidWlsZEZvcm1JbnB1dFNldCIsInVzZXJJbmZvIiwic2V0SW5wdXRWYWx1ZSIsImdldFVzZXJJbmZvIiwiY3JlYXRlRWRpdFByb2ZpbGVGb3JtIiwiaW5wdXRTZXRUaXRsZSIsImlucHV0U2V0SW1hZ2VVcmwiLCJhZGRDYXJkRm9ybSIsImVkaXRBdmF0YXJGb3JtIiwiaW5wdXRTZXRBdmF0YXJTcmMiLCJnZXRBdmF0YXJJbWFnZVVybCIsImNyZWF0ZUVkaXRBdmF0YXJGb3JtIl0sInNvdXJjZVJvb3QiOiIifQ==